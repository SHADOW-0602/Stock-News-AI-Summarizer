2025-09-27 16:59:04,652 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 16:59:04,652 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 16:59:04,657 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 16:59:04,673 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 16:59:04,675 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 16:59:04,675 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 16:59:04,676 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 16:59:04,677 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 54055.322540 seconds)
2025-09-27 16:59:04,693 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.8:5000
2025-09-27 16:59:04,694 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 16:59:11,527 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 16:59:11] "GET / HTTP/1.1" 200 -
2025-09-27 16:59:11,618 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 16:59:11] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 16:59:11,630 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 16:59:11] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 16:59:11,759 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 16:59:11] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 16:59:16,103 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 16:59:16] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 16:59:16,133 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 16:59:16] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 16:59:20,856 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 16:59:20] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 16:59:23,198 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 16:59:23,198 - __main__ - DEBUG - Collecting news from all sources
2025-09-27 16:59:23,199 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 16:59:23,199 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 16:59:23,204 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-27 16:59:24,117 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 16:59:24,448 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 16:59:24,454 - __main__ - DEBUG - Response status: 200, Content length: 244356
2025-09-27 16:59:24,525 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 16:59:24,535 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 16:59:24,541 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 16:59:24,542 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 16:59:24,543 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 16:59:24,543 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 16:59:24,544 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 16:59:25,370 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 16:59:25,395 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 16:59:25,515 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 16:59:25,515 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 16:59:25,516 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 16:59:25,517 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-27 16:59:27,207 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 16:59:27,210 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 16:59:27,210 - __main__ - INFO - Total articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 16:59:27,211 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 16:59:27,211 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 16:59:27,211 - __main__ - DEBUG - Sending prompt to Gemini (length: 5683 chars)
2025-09-27 16:59:27,211 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 17:00:19,762 - __main__ - DEBUG - Gemini response: Here are the top 7 most relevant and credible articles:

4, 3, 5, 6, 8, 9, 11...
2025-09-27 17:00:19,762 - __main__ - DEBUG - Selected article indices: [2, 4, 5, 7, 8, 10]
2025-09-27 17:00:19,763 - __main__ - INFO - Selected 6 articles for summary
2025-09-27 17:00:19,764 - __main__ - DEBUG - Generating AI summary
2025-09-27 17:00:31,759 - __main__ - INFO - Generated summary for TSLA (length: 2363 chars)
2025-09-27 17:00:31,819 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 17:00:31,820 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:00:31] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 17:00:32,839 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:00:32] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 17:05:19,545 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 17:05:19,546 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 17:05:19,550 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 17:05:19,560 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 17:05:19,563 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 17:05:19,563 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 17:05:19,564 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 17:05:19,565 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 53680.434456 seconds)
2025-09-27 17:05:19,581 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.8:5000
2025-09-27 17:05:19,581 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 17:05:21,778 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:05:21] "GET / HTTP/1.1" 200 -
2025-09-27 17:05:21,883 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:05:21] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 17:05:21,894 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:05:21] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 17:05:21,989 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:05:21] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 17:05:25,209 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:05:25] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 17:05:27,327 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 17:05:27,328 - __main__ - DEBUG - Collecting news from all sources
2025-09-27 17:05:27,328 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 17:05:27,328 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 17:05:27,334 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-27 17:05:28,286 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 17:05:28,600 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 17:05:28,603 - __main__ - DEBUG - Response status: 200, Content length: 244356
2025-09-27 17:05:28,682 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 17:05:28,696 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 17:05:28,716 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 17:05:28,719 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 17:05:28,719 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 17:05:28,720 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 17:05:28,724 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 17:05:29,676 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 17:05:29,699 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 17:05:29,824 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 17:05:29,825 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 17:05:29,825 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 17:05:29,826 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-27 17:05:31,521 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 17:05:31,522 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 17:05:31,522 - __main__ - INFO - Total articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 17:05:31,523 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 17:05:31,523 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 17:05:31,523 - __main__ - DEBUG - Sending prompt to Gemini (length: 5683 chars)
2025-09-27 17:05:31,524 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 17:05:32,398 - __main__ - ERROR - Article selection error: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-09-27 17:05:32,399 - __main__ - INFO - Selected 5 articles for summary
2025-09-27 17:05:32,403 - __main__ - DEBUG - Generating AI summary
2025-09-27 17:05:32,404 - __main__ - DEBUG - Starting summary generation for TSLA
2025-09-27 17:05:32,405 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2101 chars)
2025-09-27 17:05:32,593 - __main__ - ERROR - Summary generation error for TSLA: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-09-27 17:05:32,595 - __main__ - ERROR - API Key being used: AIzaSyDiWg...elQ0M
2025-09-27 17:05:32,596 - __main__ - INFO - Generated summary for TSLA (length: 127 chars)
2025-09-27 17:05:32,667 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 17:05:32,668 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:05:32] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 17:05:33,687 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:05:33] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 17:06:55,294 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 17:06:55,295 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 17:06:55,298 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 17:06:55,309 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 17:06:55,311 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 17:06:55,311 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 17:06:55,312 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 17:06:55,313 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 53584.686818 seconds)
2025-09-27 17:06:55,328 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.8:5000
2025-09-27 17:06:55,328 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 17:06:58,272 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:06:58] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 17:06:59,702 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 17:06:59,703 - __main__ - DEBUG - Collecting news from all sources
2025-09-27 17:06:59,703 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 17:06:59,703 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 17:06:59,707 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-27 17:07:00,455 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 17:07:00,467 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 17:07:00,473 - __main__ - DEBUG - Response status: 200, Content length: 244356
2025-09-27 17:07:00,562 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 17:07:00,574 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 17:07:00,579 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 17:07:00,579 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 17:07:00,579 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 17:07:00,580 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 17:07:00,582 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 17:07:01,566 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 17:07:01,593 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 17:07:01,829 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 17:07:01,830 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 17:07:01,830 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 17:07:01,832 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-27 17:07:03,613 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 17:07:03,615 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 17:07:03,616 - __main__ - INFO - Total articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 17:07:03,616 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 17:07:03,617 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 17:07:03,617 - __main__ - DEBUG - Sending prompt to Gemini (length: 5683 chars)
2025-09-27 17:07:03,617 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 17:07:04,567 - __main__ - ERROR - Article selection error: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-09-27 17:07:04,568 - __main__ - ERROR - Full error details: NotFound('models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.')
2025-09-27 17:07:04,568 - __main__ - INFO - Selected 5 articles for summary
2025-09-27 17:07:04,570 - __main__ - DEBUG - Generating AI summary
2025-09-27 17:07:04,570 - __main__ - DEBUG - Starting summary generation for TSLA
2025-09-27 17:07:04,570 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2154 chars)
2025-09-27 17:07:05,115 - __main__ - ERROR - Summary generation error for TSLA: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-09-27 17:07:05,116 - __main__ - ERROR - API Key being used: AIzaSyDiWg...elQ0M
2025-09-27 17:07:05,117 - __main__ - ERROR - Full error details: NotFound('models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.')
2025-09-27 17:07:05,118 - __main__ - INFO - Generated summary for TSLA (length: 197 chars)
2025-09-27 17:07:05,189 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 17:07:05,190 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:07:05] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 17:07:06,220 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:07:06] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 17:07:34,394 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 17:07:34,394 - __main__ - DEBUG - Collecting news from all sources
2025-09-27 17:07:34,395 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 17:07:34,395 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 17:07:34,657 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 17:07:34,973 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 17:07:34,976 - __main__ - DEBUG - Response status: 200, Content length: 244354
2025-09-27 17:07:35,044 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 17:07:35,055 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 17:07:35,061 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 17:07:35,061 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 17:07:35,062 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 17:07:35,062 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 17:07:35,356 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 17:07:35,396 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 17:07:35,535 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 17:07:35,535 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 17:07:35,536 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 17:07:35,891 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 17:07:35,893 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 17:07:35,894 - __main__ - INFO - Total articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 17:07:35,895 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 17:07:35,895 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 17:07:35,896 - __main__ - DEBUG - Sending prompt to Gemini (length: 5683 chars)
2025-09-27 17:07:35,897 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 17:07:37,604 - __main__ - ERROR - Article selection error: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-09-27 17:07:37,604 - __main__ - ERROR - Full error details: NotFound('models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.')
2025-09-27 17:07:37,605 - __main__ - INFO - Selected 5 articles for summary
2025-09-27 17:07:37,605 - __main__ - DEBUG - Generating AI summary
2025-09-27 17:07:37,606 - __main__ - DEBUG - Starting summary generation for TSLA
2025-09-27 17:07:37,606 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2207 chars)
2025-09-27 17:07:37,932 - __main__ - ERROR - Summary generation error for TSLA: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-09-27 17:07:37,933 - __main__ - ERROR - API Key being used: AIzaSyDiWg...elQ0M
2025-09-27 17:07:37,933 - __main__ - ERROR - Full error details: NotFound('models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.')
2025-09-27 17:07:37,934 - __main__ - INFO - Generated summary for TSLA (length: 197 chars)
2025-09-27 17:07:38,005 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 17:07:38,006 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:07:38] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 17:07:39,021 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:07:39] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 17:27:16,385 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 17:27:16,385 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 17:27:17,572 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 17:27:17,583 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 17:27:17,585 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 17:27:17,586 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 17:27:17,587 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 17:27:17,587 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 52362.412350 seconds)
2025-09-27 17:27:17,607 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.8:5000
2025-09-27 17:27:17,609 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 17:27:29,707 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 17:27:29,707 - __main__ - DEBUG - Collecting news from all sources
2025-09-27 17:27:29,707 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 17:27:29,708 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 17:27:29,712 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-27 17:27:30,749 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 17:27:31,074 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 17:27:31,079 - __main__ - DEBUG - Response status: 200, Content length: 244357
2025-09-27 17:27:31,151 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 17:27:31,163 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 17:27:31,168 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 17:27:31,169 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 17:27:31,169 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 17:27:31,169 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 17:27:31,171 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 17:27:32,116 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 17:27:32,147 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 17:27:32,293 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 17:27:32,293 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 17:27:32,294 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 17:27:32,296 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-27 17:27:34,256 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 17:27:34,258 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 17:27:34,258 - __main__ - INFO - Total articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 17:27:34,259 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 17:27:34,260 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 17:27:34,260 - __main__ - DEBUG - Sending prompt to Gemini (length: 5683 chars)
2025-09-27 17:27:34,261 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 17:27:34,262 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 17:27:34,266 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 17:27:34,272 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C45471E80>
2025-09-27 17:27:34,273 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023C45181B30> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 17:27:34,285 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C4544EE90>
2025-09-27 17:27:34,286 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 17:27:34,287 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 17:27:34,287 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 17:27:34,288 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 17:27:34,288 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 17:28:01,060 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 11:58:00 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=26764'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 17:28:01,062 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 17:28:01,062 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 17:28:01,063 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 17:28:01,064 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 17:28:01,065 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 17:28:01,066 - __main__ - DEBUG - Gemini response: 5, 6, 8, 9, 11, 12, 13...
2025-09-27 17:28:01,067 - __main__ - DEBUG - Selected article indices: [4, 5, 7, 8, 10, 11, 12]
2025-09-27 17:28:01,067 - __main__ - INFO - Selected 7 articles for summary
2025-09-27 17:28:01,451 - __main__ - DEBUG - Generating AI summary
2025-09-27 17:28:01,452 - __main__ - DEBUG - Starting summary generation for TSLA
2025-09-27 17:28:01,453 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 3167 chars)
2025-09-27 17:28:01,454 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 17:28:01,458 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 17:28:01,460 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 17:28:01,461 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 17:28:01,463 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 17:28:01,464 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 17:28:26,441 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 11:58:26 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=24974'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 17:28:26,445 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 17:28:26,446 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 17:28:26,448 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 17:28:26,449 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 17:28:26,450 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 17:28:26,452 - __main__ - DEBUG - Gemini summary response received: 2485 chars
2025-09-27 17:28:26,453 - __main__ - INFO - Generated summary for TSLA (length: 2485 chars)
2025-09-27 17:28:26,520 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 17:28:26,522 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:28:26] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 17:28:27,545 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:28:27] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 17:29:06,137 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:29:06] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 17:29:06,302 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:29:06] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 17:31:28,124 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:31:28] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 17:32:04,321 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 17:32:04,321 - __main__ - DEBUG - Collecting news from all sources
2025-09-27 17:32:04,322 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 17:32:04,323 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 17:32:04,327 - urllib3.connectionpool - DEBUG - Resetting dropped connection: www.tradingview.com
2025-09-27 17:32:05,293 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 17:32:05,622 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 17:32:05,630 - __main__ - DEBUG - Response status: 200, Content length: 244356
2025-09-27 17:32:05,712 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 17:32:05,726 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 17:32:05,730 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 17:32:05,731 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 17:32:05,731 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 17:32:05,732 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 17:32:06,030 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 17:32:06,055 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 17:32:06,220 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 17:32:06,221 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 17:32:06,222 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 17:32:06,225 - urllib3.connectionpool - DEBUG - Resetting dropped connection: api.polygon.io
2025-09-27 17:32:07,964 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 17:32:07,972 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 17:32:07,973 - __main__ - INFO - Total articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 17:32:07,974 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 17:32:07,975 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 17:32:07,976 - __main__ - DEBUG - Sending prompt to Gemini (length: 5683 chars)
2025-09-27 17:32:07,976 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 17:32:07,977 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 17:32:07,980 - httpcore.connection - DEBUG - close.started
2025-09-27 17:32:07,981 - httpcore.connection - DEBUG - close.complete
2025-09-27 17:32:07,982 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 17:32:08,081 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C46238410>
2025-09-27 17:32:08,082 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023C45181B30> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 17:32:08,094 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C453F2EA0>
2025-09-27 17:32:08,095 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 17:32:08,095 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 17:32:08,095 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 17:32:08,096 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 17:32:08,096 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 17:33:00,334 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 12:03:00 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=52230'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 17:33:00,336 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 17:33:00,338 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 17:33:00,339 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 17:33:00,340 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 17:33:00,342 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 17:33:00,346 - __main__ - DEBUG - Gemini response: 5, 6, 8, 10, 11, 13...
2025-09-27 17:33:00,347 - __main__ - DEBUG - Selected article indices: [4, 5, 7, 9, 10, 12]
2025-09-27 17:33:00,348 - __main__ - INFO - Selected 6 articles for summary
2025-09-27 17:33:00,351 - __main__ - DEBUG - Generating AI summary
2025-09-27 17:33:00,352 - __main__ - DEBUG - Starting summary generation for TSLA
2025-09-27 17:33:00,353 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 3530 chars)
2025-09-27 17:33:00,354 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 17:33:00,356 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 17:33:00,357 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 17:33:00,358 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 17:33:00,359 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 17:33:00,360 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 17:33:22,652 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 12:03:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=22285'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 17:33:22,653 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 17:33:22,653 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 17:33:22,654 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 17:33:22,654 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 17:33:22,654 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 17:33:22,655 - __main__ - DEBUG - Gemini summary response received: 2282 chars
2025-09-27 17:33:22,656 - __main__ - INFO - Generated summary for TSLA (length: 2282 chars)
2025-09-27 17:33:22,729 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 17:33:22,730 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:33:22] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 17:33:23,751 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:33:23] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 17:35:07,526 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:35:07] "GET / HTTP/1.1" 200 -
2025-09-27 17:35:07,587 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:35:07] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 17:35:07,590 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:35:07] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 17:35:07,680 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:35:07] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 17:35:15,089 - __main__ - INFO - Validating ticker: AAP
2025-09-27 17:35:15,091 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 17:35:15,953 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=AAP HTTP/1.1" 200 None
2025-09-27 17:35:16,060 - __main__ - INFO - Successfully added ticker: AAP
2025-09-27 17:35:16,061 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:35:16] "POST /api/tickers HTTP/1.1" 200 -
2025-09-27 17:35:16,089 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:35:16] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 17:35:18,689 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:35:18] "GET /api/summary/AAP HTTP/1.1" 200 -
2025-09-27 17:35:21,880 - __main__ - INFO - === Starting news processing for AAP ===
2025-09-27 17:35:21,881 - __main__ - DEBUG - Collecting news from all sources
2025-09-27 17:35:21,881 - __main__ - DEBUG - Starting TradingView scraping for AAP
2025-09-27 17:35:21,881 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/AAP/news/
2025-09-27 17:35:22,191 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/AAP/news/ HTTP/1.1" 301 0
2025-09-27 17:35:22,557 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-AAP/news/ HTTP/1.1" 200 None
2025-09-27 17:35:22,565 - __main__ - DEBUG - Response status: 200, Content length: 236832
2025-09-27 17:35:22,648 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 17:35:22,659 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 17:35:22,670 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 17:35:22,671 - __main__ - INFO - TradingView: Found 1 articles for AAP
2025-09-27 17:35:22,671 - __main__ - DEBUG - Starting Finviz scraping for AAP
2025-09-27 17:35:22,672 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=AAP
2025-09-27 17:35:22,980 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=AAP HTTP/1.1" 200 None
2025-09-27 17:35:23,014 - __main__ - DEBUG - Response status: 200, Content length: 215785
2025-09-27 17:35:23,235 - __main__ - INFO - Finviz: Found 10 articles for AAP
2025-09-27 17:35:23,235 - __main__ - DEBUG - Starting Polygon API call for AAP
2025-09-27 17:35:23,236 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'AAP', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 17:35:23,240 - urllib3.connectionpool - DEBUG - Resetting dropped connection: api.polygon.io
2025-09-27 17:35:24,958 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=AAP&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 17:35:24,960 - __main__ - INFO - Polygon: Found 10 articles for AAP
2025-09-27 17:35:24,961 - __main__ - INFO - Total articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 17:35:24,961 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 17:35:24,962 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 17:35:24,963 - __main__ - DEBUG - Sending prompt to Gemini (length: 5259 chars)
2025-09-27 17:35:24,963 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 17:35:24,964 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 17:35:24,966 - httpcore.connection - DEBUG - close.started
2025-09-27 17:35:24,967 - httpcore.connection - DEBUG - close.complete
2025-09-27 17:35:24,968 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 17:35:24,984 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C45F502B0>
2025-09-27 17:35:24,985 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023C45181B30> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 17:35:24,996 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C45F6EE70>
2025-09-27 17:35:24,996 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 17:35:24,997 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 17:35:24,997 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 17:35:24,998 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 17:35:24,998 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 17:36:09,369 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 12:06:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=44363'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 17:36:09,371 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 17:36:09,373 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 17:36:09,375 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 17:36:09,376 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 17:36:09,377 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 17:36:09,379 - __main__ - DEBUG - Gemini response: 4, 10, 12, 14, 16, 17...
2025-09-27 17:36:09,380 - __main__ - DEBUG - Selected article indices: [3, 9, 11, 13, 15, 16]
2025-09-27 17:36:09,380 - __main__ - INFO - Selected 6 articles for summary
2025-09-27 17:36:09,382 - __main__ - DEBUG - Generating AI summary
2025-09-27 17:36:09,383 - __main__ - DEBUG - Starting summary generation for AAP
2025-09-27 17:36:09,383 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2215 chars)
2025-09-27 17:36:09,384 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 17:36:09,386 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 17:36:09,388 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 17:36:09,388 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 17:36:09,389 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 17:36:09,390 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 17:36:38,401 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 12:06:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=29001'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 17:36:38,403 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 17:36:38,404 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 17:36:38,406 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 17:36:38,408 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 17:36:38,409 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 17:36:38,412 - __main__ - DEBUG - Gemini summary response received: 3028 chars
2025-09-27 17:36:38,413 - __main__ - INFO - Generated summary for AAP (length: 3028 chars)
2025-09-27 17:36:38,565 - __main__ - INFO - === Completed processing for AAP ===
2025-09-27 17:36:38,566 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:36:38] "GET /api/refresh/AAP HTTP/1.1" 200 -
2025-09-27 17:36:41,596 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:36:41] "GET /api/summary/AAP HTTP/1.1" 200 -
2025-09-27 17:43:36,193 - __main__ - INFO - Validating ticker: TESLA
2025-09-27 17:43:36,195 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 17:43:37,041 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TESLA HTTP/1.1" 404 None
2025-09-27 17:43:37,045 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:43:37] "[31m[1mPOST /api/tickers HTTP/1.1[0m" 400 -
2025-09-27 17:43:45,875 - __main__ - INFO - Validating ticker: TATA
2025-09-27 17:43:45,877 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 17:43:46,686 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TATA HTTP/1.1" 404 None
2025-09-27 17:43:46,692 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:43:46] "[31m[1mPOST /api/tickers HTTP/1.1[0m" 400 -
2025-09-27 17:59:25,302 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:59:25] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 17:59:25,318 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 17:59:25] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 18:04:50,787 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:04:50] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 18:04:55,700 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:04:55] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 18:04:57,589 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 18:04:57,589 - __main__ - DEBUG - Collecting news from all sources
2025-09-27 18:04:57,631 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 18:04:57,631 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 18:04:57,677 - urllib3.connectionpool - DEBUG - Resetting dropped connection: www.tradingview.com
2025-09-27 18:04:59,026 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 18:04:59,346 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 18:04:59,352 - __main__ - DEBUG - Response status: 200, Content length: 244356
2025-09-27 18:05:00,149 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 18:05:00,169 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 18:05:00,178 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 18:05:00,179 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 18:05:00,180 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 18:05:00,181 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 18:05:00,183 - urllib3.connectionpool - DEBUG - Resetting dropped connection: finviz.com
2025-09-27 18:05:01,808 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 18:05:01,909 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 18:05:02,342 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 18:05:02,344 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 18:05:02,344 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 18:05:02,347 - urllib3.connectionpool - DEBUG - Resetting dropped connection: api.polygon.io
2025-09-27 18:05:06,424 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 18:05:07,098 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 18:05:07,100 - __main__ - INFO - Total articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 18:05:07,100 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 18:05:07,101 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 18:05:07,103 - __main__ - DEBUG - Sending prompt to Gemini (length: 5683 chars)
2025-09-27 18:05:07,104 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 18:05:07,105 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 18:05:07,107 - httpcore.connection - DEBUG - close.started
2025-09-27 18:05:07,107 - httpcore.connection - DEBUG - close.complete
2025-09-27 18:05:07,108 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 18:05:07,138 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C459CD7B0>
2025-09-27 18:05:07,139 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023C45181B30> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 18:05:07,158 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C459CD8C0>
2025-09-27 18:05:07,159 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 18:05:07,160 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 18:05:07,162 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 18:05:07,163 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 18:05:07,163 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 18:05:35,670 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 12:35:35 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=28504'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 18:05:35,674 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 18:05:35,675 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 18:05:35,677 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 18:05:35,678 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 18:05:35,678 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 18:05:35,684 - __main__ - DEBUG - Gemini response: 4, 5, 6, 8, 10, 11, 12...
2025-09-27 18:05:35,684 - __main__ - DEBUG - Selected article indices: [3, 4, 5, 7, 9, 10, 11]
2025-09-27 18:05:35,685 - __main__ - INFO - Selected 7 articles for summary
2025-09-27 18:05:35,686 - __main__ - DEBUG - Generating AI summary
2025-09-27 18:05:35,686 - __main__ - DEBUG - Starting summary generation for TSLA
2025-09-27 18:05:35,686 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 4085 chars)
2025-09-27 18:05:35,687 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 18:05:35,688 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 18:05:35,690 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 18:05:35,691 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 18:05:35,693 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 18:05:35,693 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 18:06:00,681 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 12:36:00 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=24986'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 18:06:00,683 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 18:06:00,684 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 18:06:00,684 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 18:06:00,685 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 18:06:00,685 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 18:06:00,687 - __main__ - DEBUG - Gemini summary response received: 2660 chars
2025-09-27 18:06:00,687 - __main__ - INFO - Generated summary for TSLA (length: 2660 chars)
2025-09-27 18:06:00,773 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 18:06:00,775 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:06:00] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 18:06:03,825 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:06:03] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 18:09:09,929 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:09:09] "GET /api/summary/AAP HTTP/1.1" 200 -
2025-09-27 18:09:10,738 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:09:10] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 18:09:28,425 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:09:28] "GET /api/summary/AAP HTTP/1.1" 200 -
2025-09-27 18:09:29,100 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:09:29] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 18:09:32,609 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:09:32] "GET /api/summary/AAP HTTP/1.1" 200 -
2025-09-27 18:11:55,811 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 18:11:55,811 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 18:11:57,445 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 18:11:57,464 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 18:11:57,467 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 18:11:57,467 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 18:11:57,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 18:11:57,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 49682.530070 seconds)
2025-09-27 18:11:57,497 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.8:5000
2025-09-27 18:11:57,498 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 18:12:00,482 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:00] "GET / HTTP/1.1" 200 -
2025-09-27 18:12:00,953 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:00] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 18:12:01,117 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:01] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 18:12:01,241 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:01] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 18:12:03,283 - __main__ - DEBUG - Getting summary for TSLA
2025-09-27 18:12:03,285 - __main__ - DEBUG - Executed query for TSLA
2025-09-27 18:12:03,287 - __main__ - DEBUG - Query result for TSLA: Found
2025-09-27 18:12:03,287 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=53, what_changed_len=28
2025-09-27 18:12:03,290 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:03] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 18:12:04,864 - __main__ - DEBUG - Getting summary for AAP
2025-09-27 18:12:04,866 - __main__ - DEBUG - Executed query for AAP
2025-09-27 18:12:04,867 - __main__ - DEBUG - Query result for AAP: Found
2025-09-27 18:12:04,867 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3028, what_changed_len=702
2025-09-27 18:12:04,869 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:04] "GET /api/summary/AAP HTTP/1.1" 200 -
2025-09-27 18:12:05,493 - __main__ - DEBUG - Getting summary for TSLA
2025-09-27 18:12:05,495 - __main__ - DEBUG - Executed query for TSLA
2025-09-27 18:12:05,495 - __main__ - DEBUG - Query result for TSLA: Found
2025-09-27 18:12:05,496 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=53, what_changed_len=28
2025-09-27 18:12:05,498 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:05] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 18:12:14,346 - __main__ - INFO - Remove ticker requested: TSLA
2025-09-27 18:12:14,402 - __main__ - INFO - Successfully removed ticker: TSLA
2025-09-27 18:12:14,427 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:14] "DELETE /api/tickers/TSLA HTTP/1.1" 200 -
2025-09-27 18:12:14,496 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:14] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 18:12:17,475 - __main__ - DEBUG - Getting summary for AAP
2025-09-27 18:12:17,476 - __main__ - DEBUG - Executed query for AAP
2025-09-27 18:12:17,477 - __main__ - DEBUG - Query result for AAP: Found
2025-09-27 18:12:17,480 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3028, what_changed_len=702
2025-09-27 18:12:17,483 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:12:17] "GET /api/summary/AAP HTTP/1.1" 200 -
2025-09-27 18:19:52,827 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 18:19:52,828 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 18:19:54,412 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 18:19:54,426 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 18:19:54,427 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 18:19:54,428 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 18:19:54,429 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 18:19:54,430 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 49205.570025 seconds)
2025-09-27 18:19:54,455 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.8:5000
2025-09-27 18:19:54,455 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 18:20:41,445 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:20:41] "GET / HTTP/1.1" 200 -
2025-09-27 18:20:41,950 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:20:41] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 18:20:42,056 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:20:42] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 18:20:42,091 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:20:42] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 18:20:42,895 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 18:20:42] "GET /static/favicon.svg HTTP/1.1" 200 -
2025-09-27 20:17:44,888 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 20:17:44,889 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 20:17:46,426 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 20:17:46,439 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 20:17:46,442 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 20:17:46,442 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 20:17:46,444 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 20:17:46,444 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 42133.555522 seconds)
2025-09-27 20:17:46,465 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 20:17:46,465 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 20:17:49,281 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:17:49] "GET / HTTP/1.1" 200 -
2025-09-27 20:17:49,658 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:17:49] "GET /static/style.css HTTP/1.1" 200 -
2025-09-27 20:17:49,687 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:17:49] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 20:17:50,151 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:17:50] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 20:17:50,358 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:17:50] "GET /static/favicon.svg HTTP/1.1" 200 -
2025-09-27 20:17:58,754 - __main__ - DEBUG - Received ticker request: TSLA
2025-09-27 20:17:58,754 - __main__ - INFO - Validating ticker: TSLA
2025-09-27 20:17:58,755 - __main__ - DEBUG - Validating ticker: TSLA
2025-09-27 20:17:58,760 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 20:17:59,669 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 20:17:59,978 - __main__ - DEBUG - Ticker TSLA validated successfully
2025-09-27 20:18:00,134 - __main__ - INFO - Successfully added ticker: TSLA
2025-09-27 20:18:00,138 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:18:00] "POST /api/tickers HTTP/1.1" 200 -
2025-09-27 20:18:00,213 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:18:00] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 20:18:07,956 - __main__ - DEBUG - Getting summary for TSLA
2025-09-27 20:18:07,957 - __main__ - DEBUG - Executed query for TSLA
2025-09-27 20:18:07,958 - __main__ - DEBUG - Query result for TSLA: None
2025-09-27 20:18:07,958 - __main__ - WARNING - No summary data found for TSLA
2025-09-27 20:18:07,959 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:18:07] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 20:18:10,327 - __main__ - INFO - Manual refresh requested for TSLA
2025-09-27 20:18:10,328 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 20:18:10,329 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-27 20:18:10,329 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 20:18:10,330 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 20:18:10,334 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-27 20:18:11,316 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 20:18:11,637 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 20:18:11,642 - __main__ - DEBUG - Response status: 200, Content length: 244359
2025-09-27 20:18:11,731 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 20:18:11,742 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 20:18:11,747 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 20:18:11,747 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 20:18:11,748 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 20:18:11,748 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 20:18:11,749 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 20:18:12,674 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 20:18:13,607 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 20:18:13,749 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 20:18:13,749 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 20:18:13,750 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 20:18:25,756 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-27 20:18:28,576 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 20:18:28,579 - __main__ - DEBUG - polygon API call #1
2025-09-27 20:18:28,581 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 20:18:28,582 - __main__ - INFO - Fresh articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 20:18:28,583 - __main__ - DEBUG - Cached 21 articles for TSLA
2025-09-27 20:18:28,584 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 20:18:28,585 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 20:18:28,586 - __main__ - DEBUG - Sending prompt to Gemini (length: 5928 chars)
2025-09-27 20:18:28,586 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 20:18:32,588 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 20:18:32,599 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 20:18:32,624 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022E8FCEDA90>
2025-09-27 20:18:32,625 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022E8FA020D0> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 20:18:32,673 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022E8FCC6350>
2025-09-27 20:18:32,674 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 20:18:32,675 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 20:18:32,676 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 20:18:32,677 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 20:18:32,677 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 20:19:04,540 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 14:49:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=31855'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 20:19:04,545 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 20:19:04,546 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 20:19:04,548 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 20:19:04,548 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 20:19:04,549 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 20:19:04,562 - __main__ - DEBUG - gemini API call #1
2025-09-27 20:19:04,563 - __main__ - DEBUG - Gemini response: 3,5,6,9,11,17...
2025-09-27 20:19:04,564 - __main__ - DEBUG - Selected article indices: [2, 4, 5, 8, 10, 16]
2025-09-27 20:19:04,565 - __main__ - INFO - Selected 6 articles for summary
2025-09-27 20:19:04,567 - __main__ - DEBUG - Generating fresh AI summary
2025-09-27 20:19:04,568 - __main__ - DEBUG - Starting summary generation for TSLA
2025-09-27 20:19:04,569 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2402 chars)
2025-09-27 20:19:08,570 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 20:19:08,575 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 20:19:08,577 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 20:19:08,579 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 20:19:08,581 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 20:19:08,582 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 20:19:35,666 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 14:49:35 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=27081'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 20:19:35,667 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 20:19:35,667 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 20:19:35,668 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 20:19:35,668 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 20:19:35,669 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 20:19:35,670 - __main__ - DEBUG - gemini API call #2
2025-09-27 20:19:35,670 - __main__ - DEBUG - Gemini summary response received: 3650 chars
2025-09-27 20:19:35,670 - __main__ - INFO - Generated fresh summary for TSLA (length: 3650 chars)
2025-09-27 20:19:35,671 - __main__ - DEBUG - Cached summary for TSLA
2025-09-27 20:19:35,671 - __main__ - DEBUG - Saving summary to database for TSLA on 2025-09-27
2025-09-27 20:19:35,671 - __main__ - DEBUG - Summary length: 3650 chars
2025-09-27 20:19:35,671 - __main__ - DEBUG - What changed: Relative to a quiet preceding week, today introduced several new, conflicting data points. The prima...
2025-09-27 20:19:35,674 - __main__ - DEBUG - Database save completed for TSLA
2025-09-27 20:19:35,734 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 20:19:35,735 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:19:35] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 20:19:38,757 - __main__ - DEBUG - Getting summary for TSLA
2025-09-27 20:19:38,762 - __main__ - DEBUG - Executed query for TSLA
2025-09-27 20:19:38,763 - __main__ - DEBUG - Query result for TSLA: Found
2025-09-27 20:19:38,764 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3650, what_changed_len=381
2025-09-27 20:19:38,765 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:19:38] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 20:25:03,670 - __main__ - INFO - Remove ticker requested: TSLA
2025-09-27 20:25:03,859 - __main__ - INFO - Successfully removed ticker: TSLA
2025-09-27 20:25:03,861 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:25:03] "DELETE /api/tickers/TSLA HTTP/1.1" 200 -
2025-09-27 20:25:03,885 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:25:03] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 20:25:09,191 - __main__ - DEBUG - Received ticker request: TSLA
2025-09-27 20:25:09,191 - __main__ - INFO - Validating ticker: TSLA
2025-09-27 20:25:09,191 - __main__ - DEBUG - Validating ticker: TSLA
2025-09-27 20:25:09,193 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 20:25:10,170 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 20:25:10,206 - __main__ - DEBUG - Ticker TSLA validated successfully
2025-09-27 20:25:10,253 - __main__ - INFO - Successfully added ticker: TSLA
2025-09-27 20:25:10,254 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:25:10] "POST /api/tickers HTTP/1.1" 200 -
2025-09-27 20:25:10,263 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:25:10] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 20:25:11,178 - __main__ - DEBUG - Getting summary for TSLA
2025-09-27 20:25:11,179 - __main__ - DEBUG - Executed query for TSLA
2025-09-27 20:25:11,180 - __main__ - DEBUG - Query result for TSLA: None
2025-09-27 20:25:11,181 - __main__ - WARNING - No summary data found for TSLA
2025-09-27 20:25:11,184 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:25:11] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 20:25:12,349 - __main__ - INFO - Manual refresh requested for TSLA
2025-09-27 20:25:12,350 - __main__ - INFO - === Starting news processing for TSLA ===
2025-09-27 20:25:12,350 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-27 20:25:12,351 - __main__ - DEBUG - Starting TradingView scraping for TSLA
2025-09-27 20:25:12,351 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/TSLA/news/
2025-09-27 20:25:12,353 - urllib3.connectionpool - DEBUG - Resetting dropped connection: www.tradingview.com
2025-09-27 20:25:13,557 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/TSLA/news/ HTTP/1.1" 301 0
2025-09-27 20:25:13,950 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NASDAQ-TSLA/news/ HTTP/1.1" 200 None
2025-09-27 20:25:13,961 - __main__ - DEBUG - Response status: 200, Content length: 244359
2025-09-27 20:25:14,038 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 20:25:14,052 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 20:25:14,056 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 20:25:14,056 - __main__ - INFO - TradingView: Found 1 articles for TSLA
2025-09-27 20:25:14,057 - __main__ - DEBUG - Starting Finviz scraping for TSLA
2025-09-27 20:25:14,057 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=TSLA
2025-09-27 20:25:14,059 - urllib3.connectionpool - DEBUG - Resetting dropped connection: finviz.com
2025-09-27 20:25:14,867 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 20:25:14,894 - __main__ - DEBUG - Response status: 200, Content length: 277611
2025-09-27 20:25:15,015 - __main__ - INFO - Finviz: Found 10 articles for TSLA
2025-09-27 20:25:15,016 - __main__ - DEBUG - Starting Polygon API call for TSLA
2025-09-27 20:25:15,016 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'TSLA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 20:25:27,018 - urllib3.connectionpool - DEBUG - Resetting dropped connection: api.polygon.io
2025-09-27 20:25:28,836 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=TSLA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 20:25:28,838 - __main__ - DEBUG - polygon API call #2
2025-09-27 20:25:28,839 - __main__ - INFO - Polygon: Found 10 articles for TSLA
2025-09-27 20:25:28,839 - __main__ - INFO - Fresh articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 20:25:28,840 - __main__ - DEBUG - Cached 21 articles for TSLA
2025-09-27 20:25:28,840 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 20:25:28,841 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 20:25:28,841 - __main__ - DEBUG - Sending prompt to Gemini (length: 5928 chars)
2025-09-27 20:25:28,842 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 20:25:32,843 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 20:25:32,848 - httpcore.connection - DEBUG - close.started
2025-09-27 20:25:32,850 - httpcore.connection - DEBUG - close.complete
2025-09-27 20:25:32,852 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 20:25:32,870 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022E90ACCB90>
2025-09-27 20:25:32,871 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022E8FA020D0> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 20:25:32,884 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022E8FC6F5C0>
2025-09-27 20:25:32,884 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 20:25:32,885 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 20:25:32,885 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 20:25:32,886 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 20:25:32,886 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 20:26:18,624 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 14:56:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=45732'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 20:26:18,625 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 20:26:18,625 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 20:26:18,626 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 20:26:18,626 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 20:26:18,626 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 20:26:18,627 - __main__ - DEBUG - gemini API call #3
2025-09-27 20:26:18,628 - __main__ - DEBUG - Gemini response: 3,5,6,9,11,15,17...
2025-09-27 20:26:18,628 - __main__ - DEBUG - Selected article indices: [2, 4, 5, 8, 10, 14, 16]
2025-09-27 20:26:18,628 - __main__ - INFO - Selected 7 articles for summary
2025-09-27 20:26:18,629 - __main__ - DEBUG - Generating fresh AI summary
2025-09-27 20:26:18,630 - __main__ - DEBUG - Starting summary generation for TSLA
2025-09-27 20:26:18,630 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2745 chars)
2025-09-27 20:26:22,631 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 20:26:22,634 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 20:26:22,636 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 20:26:22,637 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 20:26:22,639 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 20:26:22,641 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 20:27:14,057 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 14:57:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=51412'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 20:27:14,059 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 20:27:14,060 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 20:27:14,061 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 20:27:14,062 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 20:27:14,063 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 20:27:14,066 - __main__ - DEBUG - gemini API call #4
2025-09-27 20:27:14,069 - __main__ - DEBUG - Gemini summary response received: 3903 chars
2025-09-27 20:27:14,071 - __main__ - INFO - Generated fresh summary for TSLA (length: 3903 chars)
2025-09-27 20:27:14,072 - __main__ - DEBUG - Cached summary for TSLA
2025-09-27 20:27:14,073 - __main__ - DEBUG - Saving summary to database for TSLA on 2025-09-27
2025-09-27 20:27:14,074 - __main__ - DEBUG - Summary length: 3903 chars
2025-09-27 20:27:14,074 - __main__ - DEBUG - What changed: Compared to the ongoing focus on Q3 deliveries and margin pressure from recent price cuts, today int...
2025-09-27 20:27:14,077 - __main__ - DEBUG - Database save completed for TSLA
2025-09-27 20:27:14,234 - __main__ - INFO - === Completed processing for TSLA ===
2025-09-27 20:27:14,235 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:27:14] "GET /api/refresh/TSLA HTTP/1.1" 200 -
2025-09-27 20:27:17,405 - __main__ - DEBUG - Getting summary for TSLA
2025-09-27 20:27:17,411 - __main__ - DEBUG - Executed query for TSLA
2025-09-27 20:27:17,412 - __main__ - DEBUG - Query result for TSLA: Found
2025-09-27 20:27:17,413 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3903, what_changed_len=456
2025-09-27 20:27:17,418 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 20:27:17] "GET /api/summary/TSLA HTTP/1.1" 200 -
2025-09-27 21:59:40,725 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 21:59:40,875 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 21:59:42,166 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 21:59:42,181 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 21:59:42,184 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 21:59:42,185 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 21:59:42,186 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 21:59:42,186 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 36017.813047 seconds)
2025-09-27 21:59:42,203 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 21:59:42,203 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 21:59:45,386 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 21:59:45] "GET / HTTP/1.1" 200 -
2025-09-27 21:59:46,024 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 21:59:46] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 21:59:46,066 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 21:59:46] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 21:59:57,311 - __main__ - DEBUG - Received ticker request: NVDA
2025-09-27 21:59:57,311 - __main__ - INFO - Validating ticker: NVDA
2025-09-27 21:59:57,312 - __main__ - DEBUG - Validating ticker: NVDA
2025-09-27 21:59:57,316 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 21:59:58,352 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=NVDA HTTP/1.1" 200 None
2025-09-27 21:59:58,402 - __main__ - DEBUG - Ticker NVDA validated successfully
2025-09-27 21:59:58,658 - __main__ - INFO - Successfully added ticker: NVDA
2025-09-27 21:59:58,661 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 21:59:58] "POST /api/tickers HTTP/1.1" 200 -
2025-09-27 21:59:58,894 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 21:59:58] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 22:00:24,045 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:00:24] "GET / HTTP/1.1" 200 -
2025-09-27 22:00:24,108 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:00:24] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:00:24,113 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:00:24] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 22:00:24,286 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:00:24] "[36mGET /static/favicon.svg HTTP/1.1[0m" 304 -
2025-09-27 22:00:28,776 - __main__ - DEBUG - Received ticker request: NVDA
2025-09-27 22:00:28,777 - __main__ - INFO - Validating ticker: NVDA
2025-09-27 22:00:28,777 - __main__ - DEBUG - Validating ticker: NVDA
2025-09-27 22:00:28,779 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 22:00:30,051 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=NVDA HTTP/1.1" 200 None
2025-09-27 22:00:30,078 - __main__ - DEBUG - Ticker NVDA validated successfully
2025-09-27 22:00:30,082 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:00:30] "[31m[1mPOST /api/tickers HTTP/1.1[0m" 400 -
2025-09-27 22:01:18,772 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:01:18] "GET / HTTP/1.1" 200 -
2025-09-27 22:01:18,921 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:01:18] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 22:01:18,925 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:01:18] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:01:28,373 - werkzeug - INFO - 192.168.1.8 - - [27/Sep/2025 22:01:28] "GET / HTTP/1.1" 200 -
2025-09-27 22:01:28,832 - werkzeug - INFO - 192.168.1.8 - - [27/Sep/2025 22:01:28] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 22:01:28,845 - werkzeug - INFO - 192.168.1.8 - - [27/Sep/2025 22:01:28] "GET /static/style.css HTTP/1.1" 200 -
2025-09-27 22:01:29,331 - werkzeug - INFO - 192.168.1.8 - - [27/Sep/2025 22:01:29] "GET /static/favicon.svg HTTP/1.1" 200 -
2025-09-27 22:19:14,741 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:19:14,776 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:19:15,861 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:19:15,873 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:19:15,875 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:19:15,876 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:19:15,877 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:19:15,877 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 34844.122131 seconds)
2025-09-27 22:19:15,898 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:19:15,898 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:19:17,273 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:19:17] "GET / HTTP/1.1" 200 -
2025-09-27 22:19:17,642 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:19:17] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:19:17,700 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:19:17] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 22:24:07,703 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:24:07,716 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:24:09,009 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:24:09,019 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:24:09,021 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:24:09,021 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:24:09,023 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:24:09,023 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 34550.976483 seconds)
2025-09-27 22:24:09,039 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:24:09,040 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:24:10,726 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:24:10] "GET / HTTP/1.1" 200 -
2025-09-27 22:24:11,107 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:24:11] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:24:11,160 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:24:11] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 22:25:35,592 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:25:35,592 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:25:36,686 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:25:36,697 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:25:36,699 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:25:36,699 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:25:36,700 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:25:36,701 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 34463.298730 seconds)
2025-09-27 22:25:36,720 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:25:36,720 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:25:42,963 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:25:42] "GET / HTTP/1.1" 200 -
2025-09-27 22:25:43,315 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:25:43] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:25:43,343 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:25:43] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 22:25:58,921 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:25:58] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:25:58,953 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:25:58] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 22:26:46,428 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:26:46,428 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:26:47,521 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:26:47,530 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:26:47,532 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:26:47,533 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:26:47,534 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:26:47,535 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 34392.464735 seconds)
2025-09-27 22:26:47,562 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:26:47,563 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:26:49,910 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:26:49] "GET / HTTP/1.1" 200 -
2025-09-27 22:26:50,238 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:26:50] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:26:50,328 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:26:50] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 22:26:53,575 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:26:53] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:26:53,609 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:26:53] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 22:27:58,796 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:27:58,797 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:28:00,363 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:28:00,374 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:28:00,377 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:28:00,377 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:28:00,378 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:28:00,379 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 34319.620620 seconds)
2025-09-27 22:28:00,398 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:28:00,399 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:28:01,786 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:28:01] "GET / HTTP/1.1" 200 -
2025-09-27 22:28:02,348 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:28:02] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:28:02,490 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:28:02] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 22:28:05,172 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:28:05] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:28:05,199 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:28:05] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 22:28:27,063 - __main__ - DEBUG - Received ticker request: TSLA
2025-09-27 22:28:27,063 - __main__ - INFO - Validating ticker: TSLA
2025-09-27 22:28:27,064 - __main__ - DEBUG - Validating ticker: TSLA
2025-09-27 22:28:27,070 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 22:28:28,411 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=TSLA HTTP/1.1" 200 None
2025-09-27 22:28:28,444 - __main__ - DEBUG - Ticker TSLA validated successfully
2025-09-27 22:28:28,518 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:28:28] "[31m[1mPOST /api/tickers HTTP/1.1[0m" 400 -
2025-09-27 22:29:30,456 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:29:30] "GET / HTTP/1.1" 200 -
2025-09-27 22:29:30,511 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:29:30] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:29:30,520 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:29:30] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 22:29:30,778 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:29:30] "[36mGET /static/favicon.svg HTTP/1.1[0m" 304 -
2025-09-27 22:29:44,157 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:29:44,157 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:29:45,341 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:29:45,350 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:29:45,353 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:29:45,353 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:29:45,355 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:29:45,355 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 34214.644356 seconds)
2025-09-27 22:29:45,378 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:29:45,379 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:29:46,470 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:29:46] "GET / HTTP/1.1" 200 -
2025-09-27 22:29:46,825 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:29:46] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:29:46,860 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:29:46] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 22:45:27,413 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:45:27,414 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:45:28,823 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:45:28,834 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:45:28,837 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:45:28,837 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:45:28,839 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:45:28,839 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 33271.160624 seconds)
2025-09-27 22:45:28,856 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:45:28,857 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:45:31,263 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:45:31] "GET / HTTP/1.1" 200 -
2025-09-27 22:45:31,678 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:45:31] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:45:31,734 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:45:31] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 22:45:45,998 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:45:45] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:45:46,040 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:45:46] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-09-27 22:46:40,808 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:46:40,808 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:46:41,876 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:46:41,887 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:46:41,890 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:46:41,890 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:46:41,891 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:46:41,892 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 33198.107732 seconds)
2025-09-27 22:46:41,913 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:46:41,913 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:46:43,208 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:46:43] "GET / HTTP/1.1" 200 -
2025-09-27 22:46:43,532 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:46:43] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:46:43,615 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:46:43] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 22:46:43,797 - __main__ - DEBUG - Getting tickers list
2025-09-27 22:46:43,802 - __main__ - DEBUG - Found 3 tickers: ['NVDA', 'TSLA', 'AAP']
2025-09-27 22:46:43,805 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:46:43] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 22:47:17,713 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 22:47:17,713 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 22:47:18,783 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 22:47:18,793 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 22:47:18,795 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 22:47:18,795 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 22:47:18,796 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 22:47:18,796 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 33161.203084 seconds)
2025-09-27 22:47:18,814 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 22:47:18,814 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 22:47:19,849 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:47:19] "GET / HTTP/1.1" 200 -
2025-09-27 22:47:20,156 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:47:20] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 22:47:20,461 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:47:20] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 22:47:20,688 - __main__ - DEBUG - Getting tickers list
2025-09-27 22:47:20,694 - __main__ - DEBUG - Found 3 tickers: ['NVDA', 'TSLA', 'AAP']
2025-09-27 22:47:20,703 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:47:20] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 22:47:26,968 - __main__ - DEBUG - Received ticker request: BP
2025-09-27 22:47:26,969 - __main__ - INFO - Validating ticker: BP
2025-09-27 22:47:26,969 - __main__ - DEBUG - Validating ticker: BP
2025-09-27 22:47:26,973 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 22:47:28,324 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=BP HTTP/1.1" 200 None
2025-09-27 22:47:28,351 - __main__ - DEBUG - Ticker BP validated successfully
2025-09-27 22:47:28,418 - __main__ - INFO - Successfully added ticker: BP
2025-09-27 22:47:28,419 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:47:28] "POST /api/tickers HTTP/1.1" 200 -
2025-09-27 22:47:28,428 - __main__ - DEBUG - Getting tickers list
2025-09-27 22:47:28,433 - __main__ - DEBUG - Found 4 tickers: ['BP', 'NVDA', 'TSLA', 'AAP']
2025-09-27 22:47:28,434 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:47:28] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 22:47:29,316 - __main__ - DEBUG - Getting summary for BP
2025-09-27 22:47:29,318 - __main__ - DEBUG - Executed query for BP
2025-09-27 22:47:29,318 - __main__ - DEBUG - Query result for BP: None
2025-09-27 22:47:29,318 - __main__ - WARNING - No summary data found for BP
2025-09-27 22:47:29,319 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:47:29] "GET /api/summary/BP HTTP/1.1" 200 -
2025-09-27 22:47:30,184 - __main__ - INFO - Manual refresh requested for BP
2025-09-27 22:47:30,185 - __main__ - INFO - === Starting news processing for BP ===
2025-09-27 22:47:30,185 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-27 22:47:30,185 - __main__ - DEBUG - Starting TradingView scraping for BP
2025-09-27 22:47:30,186 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/BP/news/
2025-09-27 22:47:30,188 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-27 22:47:31,190 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/BP/news/ HTTP/1.1" 301 0
2025-09-27 22:47:31,606 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-BP/news/ HTTP/1.1" 200 None
2025-09-27 22:47:31,611 - __main__ - DEBUG - Response status: 200, Content length: 242261
2025-09-27 22:47:31,714 - __main__ - DEBUG - Selector 'div.news-item' found 0 items
2025-09-27 22:47:31,732 - __main__ - DEBUG - Selector '[data-role="news-item"]' found 0 items
2025-09-27 22:47:31,737 - __main__ - DEBUG - Selector 'a[href*="news"]' found 4 items
2025-09-27 22:47:31,738 - __main__ - INFO - TradingView: Found 1 articles for BP
2025-09-27 22:47:31,739 - __main__ - DEBUG - Starting Finviz scraping for BP
2025-09-27 22:47:31,739 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=BP
2025-09-27 22:47:31,742 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 22:47:32,879 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=BP HTTP/1.1" 200 None
2025-09-27 22:47:32,897 - __main__ - DEBUG - Response status: 200, Content length: 204527
2025-09-27 22:47:33,043 - __main__ - INFO - Finviz: Found 10 articles for BP
2025-09-27 22:47:33,044 - __main__ - DEBUG - Starting Polygon API call for BP
2025-09-27 22:47:33,044 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'BP', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 22:47:45,046 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-27 22:47:46,848 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=BP&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 22:47:46,851 - __main__ - DEBUG - polygon API call #1
2025-09-27 22:47:46,853 - __main__ - INFO - Polygon: Found 10 articles for BP
2025-09-27 22:47:46,854 - __main__ - INFO - Fresh articles collected: 21 (TV:1, FV:10, PG:10)
2025-09-27 22:47:46,855 - __main__ - DEBUG - Cached 21 articles for BP
2025-09-27 22:47:46,856 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 22:47:46,857 - __main__ - DEBUG - Starting article selection with 21 articles
2025-09-27 22:47:46,858 - __main__ - DEBUG - Sending prompt to Gemini (length: 5707 chars)
2025-09-27 22:47:46,859 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 22:47:50,860 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 22:47:50,869 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 22:47:50,900 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022DB5431BE0>
2025-09-27 22:47:50,901 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022DB51520D0> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 22:47:50,919 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022DB5406FD0>
2025-09-27 22:47:50,920 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 22:47:50,921 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 22:47:50,921 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 22:47:50,922 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 22:47:50,923 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 22:48:18,770 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 17:18:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=27838'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 22:48:18,774 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 22:48:18,775 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 22:48:18,778 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 22:48:18,779 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 22:48:18,780 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 22:48:18,790 - __main__ - DEBUG - gemini API call #1
2025-09-27 22:48:18,790 - __main__ - DEBUG - Gemini response: 4,9,13,17,18,21...
2025-09-27 22:48:18,791 - __main__ - DEBUG - Selected article indices: [3, 8, 12, 16, 17, 20]
2025-09-27 22:48:18,792 - __main__ - INFO - Selected 6 articles for summary
2025-09-27 22:48:18,794 - __main__ - DEBUG - Generating fresh AI summary
2025-09-27 22:48:18,794 - __main__ - DEBUG - Starting summary generation for BP
2025-09-27 22:48:18,795 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2723 chars)
2025-09-27 22:48:22,796 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 22:48:22,798 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 22:48:22,800 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 22:48:22,800 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 22:48:22,801 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 22:48:22,802 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 22:48:49,868 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 17:18:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=27055'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 22:48:49,870 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 22:48:49,871 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 22:48:49,875 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 22:48:49,876 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 22:48:49,877 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 22:48:49,880 - __main__ - DEBUG - gemini API call #2
2025-09-27 22:48:49,881 - __main__ - DEBUG - Gemini summary response received: 3360 chars
2025-09-27 22:48:49,883 - __main__ - INFO - Generated fresh summary for BP (length: 3360 chars)
2025-09-27 22:48:49,884 - __main__ - DEBUG - Cached summary for BP
2025-09-27 22:48:49,885 - __main__ - DEBUG - Saving summary to database for BP on 2025-09-27
2025-09-27 22:48:49,886 - __main__ - DEBUG - Summary length: 3360 chars
2025-09-27 22:48:49,887 - __main__ - DEBUG - What changed: All developments are new as of today. The most significant changes are the confirmed sale of the US ...
2025-09-27 22:48:49,948 - __main__ - DEBUG - Database save completed for BP
2025-09-27 22:48:50,456 - __main__ - INFO - === Completed processing for BP ===
2025-09-27 22:48:50,457 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:48:50] "GET /api/refresh/BP HTTP/1.1" 200 -
2025-09-27 22:48:53,482 - __main__ - DEBUG - Getting summary for BP
2025-09-27 22:48:53,486 - __main__ - DEBUG - Executed query for BP
2025-09-27 22:48:53,486 - __main__ - DEBUG - Query result for BP: Found
2025-09-27 22:48:53,487 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3360, what_changed_len=506
2025-09-27 22:48:53,489 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 22:48:53] "GET /api/summary/BP HTTP/1.1" 200 -
2025-09-27 23:04:11,346 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 23:04:11,347 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 23:04:13,079 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 23:04:13,101 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 23:04:13,104 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 23:04:13,104 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 23:04:13,106 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 23:04:13,106 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 32146.893386 seconds)
2025-09-27 23:04:13,164 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 23:04:13,165 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 23:04:16,891 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:04:16] "GET / HTTP/1.1" 200 -
2025-09-27 23:04:17,254 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:04:17] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 23:04:17,609 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:04:17] "GET /static/script.js HTTP/1.1" 200 -
2025-09-27 23:04:17,630 - __main__ - DEBUG - Getting tickers list
2025-09-27 23:04:17,634 - __main__ - DEBUG - Found 4 tickers: ['BP', 'NVDA', 'TSLA', 'AAP']
2025-09-27 23:04:17,636 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:04:17] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 23:04:26,867 - __main__ - DEBUG - Getting summary for BP
2025-09-27 23:04:26,869 - __main__ - DEBUG - Executed query for BP
2025-09-27 23:04:26,870 - __main__ - DEBUG - Query result for BP: Found
2025-09-27 23:04:26,871 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3360, what_changed_len=506
2025-09-27 23:04:26,872 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:04:26] "GET /api/summary/BP HTTP/1.1" 200 -
2025-09-27 23:04:37,279 - __main__ - DEBUG - Received ticker request: BA
2025-09-27 23:04:37,279 - __main__ - INFO - Validating ticker: BA
2025-09-27 23:04:37,280 - __main__ - DEBUG - Validating ticker: BA
2025-09-27 23:04:37,284 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 23:04:38,399 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=BA HTTP/1.1" 200 None
2025-09-27 23:04:38,427 - __main__ - DEBUG - Ticker BA validated successfully
2025-09-27 23:04:38,578 - __main__ - INFO - Successfully added ticker: BA
2025-09-27 23:04:38,579 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:04:38] "POST /api/tickers HTTP/1.1" 200 -
2025-09-27 23:04:38,588 - __main__ - DEBUG - Getting tickers list
2025-09-27 23:04:38,593 - __main__ - DEBUG - Found 5 tickers: ['BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-27 23:04:38,594 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:04:38] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 23:04:39,741 - __main__ - DEBUG - Getting summary for BA
2025-09-27 23:04:39,743 - __main__ - DEBUG - Executed query for BA
2025-09-27 23:04:39,744 - __main__ - DEBUG - Query result for BA: None
2025-09-27 23:04:39,744 - __main__ - WARNING - No summary data found for BA
2025-09-27 23:04:39,746 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:04:39] "GET /api/summary/BA HTTP/1.1" 200 -
2025-09-27 23:04:41,115 - __main__ - INFO - Manual refresh requested for BA
2025-09-27 23:04:41,115 - __main__ - INFO - === Starting news processing for BA ===
2025-09-27 23:04:41,116 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-27 23:04:41,116 - __main__ - DEBUG - Starting TradingView scraping for BA
2025-09-27 23:04:41,117 - __main__ - DEBUG - Fetching URL: https://www.tradingview.com/symbols/BA/news/
2025-09-27 23:04:41,120 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-27 23:04:42,292 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/BA/news/ HTTP/1.1" 301 0
2025-09-27 23:04:42,620 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-BA/news/ HTTP/1.1" 200 None
2025-09-27 23:04:42,629 - __main__ - DEBUG - Response status: 200, Content length: 244416
2025-09-27 23:04:42,733 - __main__ - DEBUG - Selector 'div[data-name="news-item"]' found 0 items
2025-09-27 23:04:42,741 - __main__ - DEBUG - Selector 'div.js-news-item' found 0 items
2025-09-27 23:04:42,748 - __main__ - DEBUG - Selector 'a[href*="/news/"]' found 2 items
2025-09-27 23:04:42,748 - __main__ - INFO - TradingView: Found 0 articles for BA
2025-09-27 23:04:42,748 - __main__ - DEBUG - Starting Finviz scraping for BA
2025-09-27 23:04:42,749 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=BA
2025-09-27 23:04:42,750 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 23:04:43,635 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=BA HTTP/1.1" 200 None
2025-09-27 23:04:43,656 - __main__ - DEBUG - Response status: 200, Content length: 223463
2025-09-27 23:04:43,845 - __main__ - INFO - Finviz: Found 10 articles for BA
2025-09-27 23:04:43,846 - __main__ - DEBUG - Starting Polygon API call for BA
2025-09-27 23:04:43,846 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'BA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 23:04:55,847 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-27 23:04:57,488 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=BA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 23:04:57,490 - __main__ - DEBUG - polygon API call #1
2025-09-27 23:04:57,491 - __main__ - INFO - Polygon: Found 10 articles for BA
2025-09-27 23:04:57,491 - __main__ - INFO - Fresh articles collected: 20 (TV:0, FV:10, PG:10)
2025-09-27 23:04:57,492 - __main__ - DEBUG - Cached 20 articles for BA
2025-09-27 23:04:57,492 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 23:04:57,493 - __main__ - DEBUG - Starting article selection with 20 articles
2025-09-27 23:04:57,493 - __main__ - DEBUG - Sending prompt to Gemini (length: 6068 chars)
2025-09-27 23:04:57,494 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 23:05:01,495 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 23:05:01,500 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 23:05:01,519 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001AB2C4BDBE0>
2025-09-27 23:05:01,519 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001AB2C1E20D0> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 23:05:01,531 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001AB2C49B390>
2025-09-27 23:05:01,531 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 23:05:01,532 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 23:05:01,533 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 23:05:01,533 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 23:05:01,533 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 23:05:37,348 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 17:35:37 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=35809'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 23:05:37,349 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 23:05:37,350 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 23:05:37,351 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 23:05:37,352 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 23:05:37,352 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 23:05:37,353 - __main__ - DEBUG - gemini API call #1
2025-09-27 23:05:37,354 - __main__ - DEBUG - Gemini response: 1,4,9,15,16,18...
2025-09-27 23:05:37,354 - __main__ - DEBUG - Selected article indices: [0, 3, 8, 14, 15, 17]
2025-09-27 23:05:37,355 - __main__ - INFO - Selected 6 articles for summary
2025-09-27 23:05:37,356 - __main__ - DEBUG - Generating fresh AI summary
2025-09-27 23:05:37,357 - __main__ - DEBUG - Starting summary generation for BA
2025-09-27 23:05:37,357 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2879 chars)
2025-09-27 23:05:41,359 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 23:05:41,360 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 23:05:41,361 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 23:05:41,361 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 23:05:41,362 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 23:05:41,362 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 23:06:06,792 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 17:36:07 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=25421'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 23:06:06,793 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 23:06:06,793 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 23:06:06,794 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 23:06:06,794 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 23:06:06,795 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 23:06:06,795 - __main__ - DEBUG - gemini API call #2
2025-09-27 23:06:06,796 - __main__ - DEBUG - Gemini summary response received: 4264 chars
2025-09-27 23:06:06,796 - __main__ - INFO - Generated fresh summary for BA (length: 4264 chars)
2025-09-27 23:06:06,796 - __main__ - DEBUG - Cached summary for BA
2025-09-27 23:06:06,797 - __main__ - DEBUG - Saving summary to database for BA on 2025-09-27
2025-09-27 23:06:06,797 - __main__ - DEBUG - Summary length: 4264 chars
2025-09-27 23:06:06,798 - __main__ - DEBUG - What changed: Compared to the narrative of a slow and uncertain recovery over the past week, today marks a decisiv...
2025-09-27 23:06:06,912 - __main__ - DEBUG - Database save completed for BA
2025-09-27 23:06:07,205 - __main__ - INFO - === Completed processing for BA ===
2025-09-27 23:06:07,209 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:06:07] "GET /api/refresh/BA HTTP/1.1" 200 -
2025-09-27 23:06:10,222 - __main__ - DEBUG - Getting summary for BA
2025-09-27 23:06:10,336 - __main__ - DEBUG - Executed query for BA
2025-09-27 23:06:10,336 - __main__ - DEBUG - Query result for BA: Found
2025-09-27 23:06:10,337 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=4264, what_changed_len=608
2025-09-27 23:06:10,338 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:06:10] "GET /api/summary/BA HTTP/1.1" 200 -
2025-09-27 23:15:31,191 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-27 23:15:31,191 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-27 23:15:32,286 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-27 23:15:32,294 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-27 23:15:32,297 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-27 23:15:32,297 - apscheduler.scheduler - INFO - Scheduler started
2025-09-27 23:15:32,299 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-27 23:15:32,299 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-28 08:00:00+05:30 (in 31467.700210 seconds)
2025-09-27 23:15:32,316 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.8:10000
2025-09-27 23:15:32,316 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-27 23:15:35,313 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:15:35] "GET / HTTP/1.1" 200 -
2025-09-27 23:15:35,709 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:15:35] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-27 23:15:35,783 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:15:35] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-27 23:15:35,987 - __main__ - DEBUG - Getting tickers list
2025-09-27 23:15:35,990 - __main__ - DEBUG - Found 5 tickers: ['BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-27 23:15:35,992 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:15:35] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 23:15:56,234 - __main__ - DEBUG - Received ticker request: XOM
2025-09-27 23:15:56,234 - __main__ - INFO - Validating ticker: XOM
2025-09-27 23:15:56,235 - __main__ - DEBUG - Validating ticker: XOM
2025-09-27 23:15:56,238 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 23:15:57,206 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=XOM HTTP/1.1" 200 None
2025-09-27 23:15:57,236 - __main__ - DEBUG - Ticker XOM validated successfully
2025-09-27 23:15:57,305 - __main__ - INFO - Successfully added ticker: XOM
2025-09-27 23:15:57,306 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:15:57] "POST /api/tickers HTTP/1.1" 200 -
2025-09-27 23:15:57,315 - __main__ - DEBUG - Getting tickers list
2025-09-27 23:15:57,446 - __main__ - DEBUG - Found 6 tickers: ['XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-27 23:15:57,446 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:15:57] "GET /api/tickers HTTP/1.1" 200 -
2025-09-27 23:15:58,483 - __main__ - DEBUG - Getting summary for XOM
2025-09-27 23:15:58,485 - __main__ - DEBUG - Executed query for XOM
2025-09-27 23:15:58,486 - __main__ - DEBUG - Query result for XOM: None
2025-09-27 23:15:58,486 - __main__ - WARNING - No summary data found for XOM
2025-09-27 23:15:58,488 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:15:58] "GET /api/summary/XOM HTTP/1.1" 200 -
2025-09-27 23:15:59,066 - __main__ - INFO - Manual refresh requested for XOM
2025-09-27 23:15:59,066 - __main__ - INFO - === Starting news processing for XOM ===
2025-09-27 23:15:59,066 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-27 23:15:59,067 - __main__ - DEBUG - Starting TradingView scraping for XOM
2025-09-27 23:15:59,067 - __main__ - DEBUG - Trying URL: https://www.tradingview.com/symbols/XOM/news/
2025-09-27 23:15:59,069 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-27 23:16:00,357 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/XOM/news/ HTTP/1.1" 301 0
2025-09-27 23:16:00,821 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-XOM/news/ HTTP/1.1" 200 None
2025-09-27 23:16:00,938 - __main__ - INFO - TradingView: Found 3 articles for XOM
2025-09-27 23:16:00,938 - __main__ - DEBUG - Starting Finviz scraping for XOM
2025-09-27 23:16:00,938 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=XOM
2025-09-27 23:16:00,940 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-27 23:16:02,115 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=XOM HTTP/1.1" 200 None
2025-09-27 23:16:02,407 - __main__ - DEBUG - Response status: 200, Content length: 208084
2025-09-27 23:16:02,500 - __main__ - INFO - Finviz: Found 10 articles for XOM
2025-09-27 23:16:02,500 - __main__ - DEBUG - Starting Polygon API call for XOM
2025-09-27 23:16:02,501 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'XOM', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-27 23:16:14,504 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-27 23:16:16,206 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=XOM&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-27 23:16:16,209 - __main__ - DEBUG - polygon API call #1
2025-09-27 23:16:16,212 - __main__ - INFO - Polygon: Found 10 articles for XOM
2025-09-27 23:16:16,213 - __main__ - INFO - Fresh articles collected: 23 (TV:3, FV:10, PG:10)
2025-09-27 23:16:16,214 - __main__ - DEBUG - Cached 23 articles for XOM
2025-09-27 23:16:16,215 - __main__ - DEBUG - Selecting top articles using AI
2025-09-27 23:16:16,216 - __main__ - DEBUG - Starting article selection with 23 articles
2025-09-27 23:16:16,217 - __main__ - DEBUG - Sending prompt to Gemini (length: 6350 chars)
2025-09-27 23:16:16,218 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-27 23:16:20,219 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 23:16:20,220 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-27 23:16:20,241 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021428A81BE0>
2025-09-27 23:16:20,241 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000214287A20D0> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-27 23:16:20,252 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021428A5B4D0>
2025-09-27 23:16:20,253 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 23:16:20,254 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 23:16:20,254 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 23:16:20,255 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 23:16:20,255 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 23:16:51,626 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 17:46:52 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=31364'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 23:16:51,629 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 23:16:51,630 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 23:16:51,632 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 23:16:51,632 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 23:16:51,633 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 23:16:51,635 - __main__ - DEBUG - gemini API call #1
2025-09-27 23:16:51,635 - __main__ - DEBUG - Gemini response: 7,8,9,10,13,14,23...
2025-09-27 23:16:51,636 - __main__ - DEBUG - Selected article indices: [6, 7, 8, 9, 12, 13, 22]
2025-09-27 23:16:51,636 - __main__ - INFO - Selected 7 articles for summary
2025-09-27 23:16:51,638 - __main__ - DEBUG - Generating fresh AI summary
2025-09-27 23:16:51,638 - __main__ - DEBUG - Starting summary generation for XOM
2025-09-27 23:16:51,639 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2766 chars)
2025-09-27 23:16:55,640 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-27 23:16:55,644 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-27 23:16:55,647 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-27 23:16:55,648 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-27 23:16:55,650 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-27 23:16:55,651 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-27 23:17:22,776 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sat, 27 Sep 2025 17:47:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=27124'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-27 23:17:22,788 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-27 23:17:22,789 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-27 23:17:22,790 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-27 23:17:22,791 - httpcore.http11 - DEBUG - response_closed.started
2025-09-27 23:17:22,792 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-27 23:17:22,794 - __main__ - DEBUG - gemini API call #2
2025-09-27 23:17:22,795 - __main__ - DEBUG - Gemini summary response received: 3636 chars
2025-09-27 23:17:22,796 - __main__ - INFO - Generated fresh summary for XOM (length: 3636 chars)
2025-09-27 23:17:22,797 - __main__ - DEBUG - Cached summary for XOM
2025-09-27 23:17:22,798 - __main__ - DEBUG - Saving summary to database for XOM on 2025-09-27
2025-09-27 23:17:22,800 - __main__ - DEBUG - Summary length: 3636 chars
2025-09-27 23:17:22,801 - __main__ - DEBUG - What changed: Compared to the prior 7-day period for which no specific news was provided, todays updates offer ne...
2025-09-27 23:17:22,805 - __main__ - DEBUG - Database save completed for XOM
2025-09-27 23:17:22,950 - __main__ - INFO - === Completed processing for XOM ===
2025-09-27 23:17:22,951 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:17:22] "GET /api/refresh/XOM HTTP/1.1" 200 -
2025-09-27 23:17:26,386 - __main__ - DEBUG - Getting summary for XOM
2025-09-27 23:17:26,388 - __main__ - DEBUG - Executed query for XOM
2025-09-27 23:17:26,389 - __main__ - DEBUG - Query result for XOM: Found
2025-09-27 23:17:26,389 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3636, what_changed_len=647
2025-09-27 23:17:26,390 - werkzeug - INFO - 127.0.0.1 - - [27/Sep/2025 23:17:26] "GET /api/summary/XOM HTTP/1.1" 200 -
2025-09-28 11:21:55,159 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-28 11:21:55,217 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-28 11:21:56,790 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-28 11:21:56,822 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-28 11:21:56,825 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-28 11:21:56,825 - apscheduler.scheduler - INFO - Scheduler started
2025-09-28 11:21:56,827 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-28 11:21:56,827 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-29 08:00:00+05:30 (in 74283.172594 seconds)
2025-09-28 11:21:56,894 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.6:10000
2025-09-28 11:21:56,894 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-28 11:21:59,891 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:21:59] "GET / HTTP/1.1" 200 -
2025-09-28 11:22:00,765 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:22:00] "[36mGET /static/script.js HTTP/1.1[0m" 304 -
2025-09-28 11:22:00,931 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:22:00] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-28 11:22:01,385 - __main__ - DEBUG - Getting tickers list
2025-09-28 11:22:01,390 - __main__ - DEBUG - Found 6 tickers: ['XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 11:22:01,392 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:22:01] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 11:22:08,265 - __main__ - DEBUG - Getting summary for XOM
2025-09-28 11:22:08,268 - __main__ - DEBUG - Executed query for XOM
2025-09-28 11:22:08,268 - __main__ - DEBUG - Query result for XOM: Found
2025-09-28 11:22:08,269 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3636, what_changed_len=647
2025-09-28 11:22:08,271 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:22:08] "GET /api/summary/XOM HTTP/1.1" 200 -
2025-09-28 11:22:40,467 - __main__ - DEBUG - Received ticker request: JPM
2025-09-28 11:22:40,468 - __main__ - INFO - Validating ticker: JPM
2025-09-28 11:22:40,468 - __main__ - DEBUG - Validating ticker: JPM
2025-09-28 11:22:40,472 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 11:22:41,684 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=JPM HTTP/1.1" 200 None
2025-09-28 11:22:41,723 - __main__ - DEBUG - Ticker JPM validated successfully
2025-09-28 11:22:41,833 - __main__ - INFO - Successfully added ticker: JPM
2025-09-28 11:22:41,834 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:22:41] "POST /api/tickers HTTP/1.1" 200 -
2025-09-28 11:22:41,844 - __main__ - DEBUG - Getting tickers list
2025-09-28 11:22:41,848 - __main__ - DEBUG - Found 7 tickers: ['JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 11:22:41,849 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:22:41] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 11:22:43,061 - __main__ - DEBUG - Getting summary for JPM
2025-09-28 11:22:43,062 - __main__ - DEBUG - Executed query for JPM
2025-09-28 11:22:43,063 - __main__ - DEBUG - Query result for JPM: None
2025-09-28 11:22:43,063 - __main__ - WARNING - No summary data found for JPM
2025-09-28 11:22:43,064 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:22:43] "GET /api/summary/JPM HTTP/1.1" 200 -
2025-09-28 11:22:45,146 - __main__ - INFO - Manual refresh requested for JPM
2025-09-28 11:22:45,147 - __main__ - INFO - === Starting news processing for JPM ===
2025-09-28 11:22:45,147 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-28 11:22:45,147 - __main__ - DEBUG - Starting TradingView scraping for JPM
2025-09-28 11:22:45,148 - __main__ - DEBUG - Trying URL: https://www.tradingview.com/symbols/JPM/news/
2025-09-28 11:22:45,149 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-28 11:22:46,136 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/JPM/news/ HTTP/1.1" 301 0
2025-09-28 11:22:46,460 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-JPM/news/ HTTP/1.1" 200 None
2025-09-28 11:22:46,545 - __main__ - INFO - TradingView: Found 3 articles for JPM
2025-09-28 11:22:46,545 - __main__ - DEBUG - Starting Finviz scraping for JPM
2025-09-28 11:22:46,546 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=JPM
2025-09-28 11:22:46,547 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 11:22:47,444 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=JPM HTTP/1.1" 200 None
2025-09-28 11:22:47,466 - __main__ - DEBUG - Response status: 200, Content length: 268799
2025-09-28 11:22:47,662 - __main__ - INFO - Finviz: Found 10 articles for JPM
2025-09-28 11:22:47,662 - __main__ - DEBUG - Starting Polygon API call for JPM
2025-09-28 11:22:47,663 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'JPM', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-28 11:22:59,667 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-28 11:23:01,493 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=JPM&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-28 11:23:01,497 - __main__ - DEBUG - polygon API call #1
2025-09-28 11:23:01,500 - __main__ - INFO - Polygon: Found 10 articles for JPM
2025-09-28 11:23:01,500 - __main__ - DEBUG - Starting Alpha Vantage API call for JPM
2025-09-28 11:23:01,505 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.alphavantage.co:443
2025-09-28 11:23:03,481 - urllib3.connectionpool - DEBUG - https://www.alphavantage.co:443 "GET /query?function=NEWS_SENTIMENT&tickers=JPM&apikey=DO5HF4HW9CY6SUFH&limit=10 HTTP/1.1" 200 None
2025-09-28 11:23:03,483 - __main__ - INFO - Alpha Vantage: Found 0 articles for JPM
2025-09-28 11:23:03,484 - __main__ - INFO - Fresh articles collected: 23 (TV:3, FV:10, PG:10, AV:0)
2025-09-28 11:23:03,485 - __main__ - DEBUG - Cached 23 articles for JPM
2025-09-28 11:23:03,486 - __main__ - DEBUG - Selecting top articles using AI
2025-09-28 11:23:03,487 - __main__ - DEBUG - Starting article selection with 23 articles
2025-09-28 11:23:03,489 - __main__ - DEBUG - Sending prompt to Gemini (length: 6214 chars)
2025-09-28 11:23:03,491 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-28 11:23:07,494 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 11:23:07,501 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 11:23:07,546 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B21121DBE0>
2025-09-28 11:23:07,547 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001B210F36170> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-28 11:23:07,563 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B2111FA850>
2025-09-28 11:23:07,564 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 11:23:07,565 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 11:23:07,565 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 11:23:07,566 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 11:23:07,567 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 11:23:08,496 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 503, b'Service Unavailable', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 05:53:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=923'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 11:23:08,501 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 503 Service Unavailable"
2025-09-28 11:23:08,503 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 11:23:08,506 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 11:23:08,506 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 11:23:08,507 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 11:23:08,507 - __main__ - ERROR - Article selection error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The service is currently unavailable.', 'status': 'UNAVAILABLE'}}
2025-09-28 11:23:08,508 - __main__ - ERROR - Full error details: ServerError("503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The service is currently unavailable.', 'status': 'UNAVAILABLE'}}")
2025-09-28 11:23:08,508 - __main__ - INFO - Selected 5 articles for summary
2025-09-28 11:23:08,509 - __main__ - DEBUG - Generating fresh AI summary
2025-09-28 11:23:08,509 - __main__ - DEBUG - Starting summary generation for JPM
2025-09-28 11:23:08,510 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 1690 chars)
2025-09-28 11:23:12,511 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 11:23:12,512 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 11:23:12,513 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 11:23:12,513 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 11:23:12,514 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 11:23:12,514 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 11:23:39,275 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 05:53:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=26737'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 11:23:39,276 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 11:23:39,276 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 11:23:39,278 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 11:23:39,278 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 11:23:39,279 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 11:23:39,281 - __main__ - DEBUG - gemini API call #1
2025-09-28 11:23:39,281 - __main__ - DEBUG - Gemini summary response received: 3556 chars
2025-09-28 11:23:39,282 - __main__ - INFO - Generated fresh summary for JPM (length: 3556 chars)
2025-09-28 11:23:39,283 - __main__ - DEBUG - Cached summary for JPM
2025-09-28 11:23:39,283 - __main__ - DEBUG - Saving summary to database for JPM on 2025-09-28
2025-09-28 11:23:39,284 - __main__ - DEBUG - Summary length: 3556 chars
2025-09-28 11:23:39,284 - __main__ - DEBUG - What changed: ...
2025-09-28 11:23:39,287 - __main__ - DEBUG - Database save completed for JPM
2025-09-28 11:23:39,398 - __main__ - INFO - === Completed processing for JPM ===
2025-09-28 11:23:39,399 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:23:39] "GET /api/refresh/JPM HTTP/1.1" 200 -
2025-09-28 11:23:42,417 - __main__ - DEBUG - Getting summary for JPM
2025-09-28 11:23:42,420 - __main__ - DEBUG - Executed query for JPM
2025-09-28 11:23:42,421 - __main__ - DEBUG - Query result for JPM: Found
2025-09-28 11:23:42,421 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3556, what_changed_len=0
2025-09-28 11:23:42,423 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:23:42] "GET /api/summary/JPM HTTP/1.1" 200 -
2025-09-28 11:24:03,331 - __main__ - DEBUG - Getting summary for XOM
2025-09-28 11:24:03,333 - __main__ - DEBUG - Executed query for XOM
2025-09-28 11:24:03,333 - __main__ - DEBUG - Query result for XOM: Found
2025-09-28 11:24:03,334 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3636, what_changed_len=647
2025-09-28 11:24:03,335 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:24:03] "GET /api/summary/XOM HTTP/1.1" 200 -
2025-09-28 11:24:39,657 - __main__ - DEBUG - Getting summary for JPM
2025-09-28 11:24:39,659 - __main__ - DEBUG - Executed query for JPM
2025-09-28 11:24:39,659 - __main__ - DEBUG - Query result for JPM: Found
2025-09-28 11:24:39,660 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3556, what_changed_len=0
2025-09-28 11:24:39,661 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:24:39] "GET /api/summary/JPM HTTP/1.1" 200 -
2025-09-28 11:25:58,520 - __main__ - DEBUG - Received ticker request: BAC
2025-09-28 11:25:58,520 - __main__ - INFO - Validating ticker: BAC
2025-09-28 11:25:58,521 - __main__ - DEBUG - Validating ticker: BAC
2025-09-28 11:25:58,523 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 11:25:59,327 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=BAC HTTP/1.1" 200 None
2025-09-28 11:25:59,355 - __main__ - DEBUG - Ticker BAC validated successfully
2025-09-28 11:25:59,419 - __main__ - INFO - Successfully added ticker: BAC
2025-09-28 11:25:59,420 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:25:59] "POST /api/tickers HTTP/1.1" 200 -
2025-09-28 11:25:59,430 - __main__ - DEBUG - Getting tickers list
2025-09-28 11:25:59,432 - __main__ - DEBUG - Found 8 tickers: ['BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 11:25:59,433 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:25:59] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 11:26:00,145 - __main__ - DEBUG - Getting summary for BAC
2025-09-28 11:26:00,147 - __main__ - DEBUG - Executed query for BAC
2025-09-28 11:26:00,147 - __main__ - DEBUG - Query result for BAC: None
2025-09-28 11:26:00,147 - __main__ - WARNING - No summary data found for BAC
2025-09-28 11:26:00,149 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:26:00] "GET /api/summary/BAC HTTP/1.1" 200 -
2025-09-28 11:26:01,283 - __main__ - INFO - Manual refresh requested for BAC
2025-09-28 11:26:01,283 - __main__ - INFO - === Starting news processing for BAC ===
2025-09-28 11:26:01,283 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-28 11:26:01,284 - __main__ - DEBUG - Starting TradingView scraping for BAC
2025-09-28 11:26:01,284 - __main__ - DEBUG - Trying URL: https://www.tradingview.com/symbols/BAC/news/
2025-09-28 11:26:01,563 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/BAC/news/ HTTP/1.1" 301 0
2025-09-28 11:26:01,893 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-BAC/news/ HTTP/1.1" 200 None
2025-09-28 11:26:01,952 - __main__ - INFO - TradingView: Found 3 articles for BAC
2025-09-28 11:26:01,953 - __main__ - DEBUG - Starting Finviz scraping for BAC
2025-09-28 11:26:01,953 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=BAC
2025-09-28 11:26:02,252 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=BAC HTTP/1.1" 200 None
2025-09-28 11:26:02,271 - __main__ - DEBUG - Response status: 200, Content length: 258880
2025-09-28 11:26:02,385 - __main__ - INFO - Finviz: Found 10 articles for BAC
2025-09-28 11:26:02,385 - __main__ - DEBUG - Starting Polygon API call for BAC
2025-09-28 11:26:02,386 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'BAC', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-28 11:26:14,390 - urllib3.connectionpool - DEBUG - Resetting dropped connection: api.polygon.io
2025-09-28 11:26:16,044 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=BAC&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-28 11:26:16,048 - __main__ - DEBUG - polygon API call #2
2025-09-28 11:26:16,049 - __main__ - INFO - Polygon: Found 10 articles for BAC
2025-09-28 11:26:16,050 - __main__ - DEBUG - Starting Alpha Vantage API call for BAC
2025-09-28 11:26:17,286 - urllib3.connectionpool - DEBUG - https://www.alphavantage.co:443 "GET /query?function=NEWS_SENTIMENT&tickers=BAC&apikey=DO5HF4HW9CY6SUFH&limit=10 HTTP/1.1" 200 None
2025-09-28 11:26:18,494 - __main__ - INFO - Alpha Vantage: Found 10 articles for BAC
2025-09-28 11:26:18,494 - __main__ - INFO - Fresh articles collected: 33 (TV:3, FV:10, PG:10, AV:10)
2025-09-28 11:26:18,495 - __main__ - DEBUG - Cached 33 articles for BAC
2025-09-28 11:26:18,495 - __main__ - DEBUG - Selecting top articles using AI
2025-09-28 11:26:18,496 - __main__ - DEBUG - Starting article selection with 33 articles
2025-09-28 11:26:18,496 - __main__ - DEBUG - Sending prompt to Gemini (length: 9317 chars)
2025-09-28 11:26:18,497 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-28 11:26:22,498 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 11:26:22,502 - httpcore.connection - DEBUG - close.started
2025-09-28 11:26:22,504 - httpcore.connection - DEBUG - close.complete
2025-09-28 11:26:22,505 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 11:26:22,519 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B211DB8410>
2025-09-28 11:26:22,519 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001B210F36170> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-28 11:26:22,527 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B2111A2EA0>
2025-09-28 11:26:22,527 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 11:26:22,528 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 11:26:22,528 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 11:26:22,529 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 11:26:22,529 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 11:26:49,641 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 05:56:49 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=27102'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 11:26:49,644 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 11:26:49,644 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 11:26:49,645 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 11:26:49,646 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 11:26:49,646 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 11:26:49,647 - __main__ - DEBUG - gemini API call #2
2025-09-28 11:26:49,647 - __main__ - DEBUG - Gemini response: 4,7,13,23,27,30...
2025-09-28 11:26:49,647 - __main__ - DEBUG - Selected article indices: [3, 6, 12, 22, 26, 29]
2025-09-28 11:26:49,648 - __main__ - INFO - Selected 6 articles for summary
2025-09-28 11:26:49,648 - __main__ - DEBUG - Generating fresh AI summary
2025-09-28 11:26:49,649 - __main__ - DEBUG - Starting summary generation for BAC
2025-09-28 11:26:49,649 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2586 chars)
2025-09-28 11:26:53,650 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 11:26:53,653 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 11:26:53,655 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 11:26:53,656 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 11:26:53,657 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 11:26:53,658 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 11:27:22,582 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 05:57:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=28911'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 11:27:22,584 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 11:27:22,586 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 11:27:22,590 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 11:27:22,590 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 11:27:22,591 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 11:27:22,591 - __main__ - DEBUG - gemini API call #3
2025-09-28 11:27:22,592 - __main__ - DEBUG - Gemini summary response received: 3672 chars
2025-09-28 11:27:22,592 - __main__ - INFO - Generated fresh summary for BAC (length: 3672 chars)
2025-09-28 11:27:22,592 - __main__ - DEBUG - Cached summary for BAC
2025-09-28 11:27:22,592 - __main__ - DEBUG - Saving summary to database for BAC on 2025-09-28
2025-09-28 11:27:22,593 - __main__ - DEBUG - Summary length: 3672 chars
2025-09-28 11:27:22,593 - __main__ - DEBUG - What changed: ...
2025-09-28 11:27:22,595 - __main__ - DEBUG - Database save completed for BAC
2025-09-28 11:27:22,654 - __main__ - INFO - === Completed processing for BAC ===
2025-09-28 11:27:22,655 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:27:22] "GET /api/refresh/BAC HTTP/1.1" 200 -
2025-09-28 11:27:25,667 - __main__ - DEBUG - Getting summary for BAC
2025-09-28 11:27:25,672 - __main__ - DEBUG - Executed query for BAC
2025-09-28 11:27:25,673 - __main__ - DEBUG - Query result for BAC: Found
2025-09-28 11:27:25,673 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3672, what_changed_len=0
2025-09-28 11:27:25,677 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:27:25] "GET /api/summary/BAC HTTP/1.1" 200 -
2025-09-28 11:27:55,427 - __main__ - DEBUG - Getting summary for JPM
2025-09-28 11:27:55,430 - __main__ - DEBUG - Executed query for JPM
2025-09-28 11:27:55,431 - __main__ - DEBUG - Query result for JPM: Found
2025-09-28 11:27:55,432 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3556, what_changed_len=0
2025-09-28 11:27:55,434 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:27:55] "GET /api/summary/JPM HTTP/1.1" 200 -
2025-09-28 11:28:00,687 - __main__ - DEBUG - Getting summary for BA
2025-09-28 11:28:00,689 - __main__ - DEBUG - Executed query for BA
2025-09-28 11:28:00,690 - __main__ - DEBUG - Query result for BA: Found
2025-09-28 11:28:00,691 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=4264, what_changed_len=608
2025-09-28 11:28:00,692 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:28:00] "GET /api/summary/BA HTTP/1.1" 200 -
2025-09-28 11:28:06,971 - __main__ - DEBUG - Getting summary for BAC
2025-09-28 11:28:06,972 - __main__ - DEBUG - Executed query for BAC
2025-09-28 11:28:06,972 - __main__ - DEBUG - Query result for BAC: Found
2025-09-28 11:28:06,973 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3672, what_changed_len=0
2025-09-28 11:28:06,974 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:28:06] "GET /api/summary/BAC HTTP/1.1" 200 -
2025-09-28 11:28:38,469 - __main__ - DEBUG - Getting summary for JPM
2025-09-28 11:28:38,473 - __main__ - DEBUG - Executed query for JPM
2025-09-28 11:28:38,474 - __main__ - DEBUG - Query result for JPM: Found
2025-09-28 11:28:38,475 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3556, what_changed_len=0
2025-09-28 11:28:38,477 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:28:38] "GET /api/summary/JPM HTTP/1.1" 200 -
2025-09-28 11:28:45,977 - __main__ - DEBUG - Getting summary for XOM
2025-09-28 11:28:45,978 - __main__ - DEBUG - Executed query for XOM
2025-09-28 11:28:45,978 - __main__ - DEBUG - Query result for XOM: Found
2025-09-28 11:28:45,979 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3636, what_changed_len=647
2025-09-28 11:28:45,979 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:28:45] "GET /api/summary/XOM HTTP/1.1" 200 -
2025-09-28 11:28:51,509 - __main__ - DEBUG - Getting summary for BAC
2025-09-28 11:28:51,512 - __main__ - DEBUG - Executed query for BAC
2025-09-28 11:28:51,513 - __main__ - DEBUG - Query result for BAC: Found
2025-09-28 11:28:51,513 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3672, what_changed_len=0
2025-09-28 11:28:51,515 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:28:51] "GET /api/summary/BAC HTTP/1.1" 200 -
2025-09-28 11:32:21,458 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-28 11:32:21,459 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-28 11:32:22,715 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-28 11:32:22,724 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-28 11:32:22,726 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-28 11:32:22,726 - apscheduler.scheduler - INFO - Scheduler started
2025-09-28 11:32:22,728 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-28 11:32:22,728 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-29 08:00:00+05:30 (in 73657.271281 seconds)
2025-09-28 11:32:22,750 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.6:10000
2025-09-28 11:32:22,750 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-28 11:32:24,600 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:32:24] "GET / HTTP/1.1" 200 -
2025-09-28 11:32:24,886 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:32:24] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-28 11:32:24,968 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:32:24] "GET /static/script.js HTTP/1.1" 200 -
2025-09-28 11:32:25,253 - __main__ - DEBUG - Getting tickers list
2025-09-28 11:32:25,256 - __main__ - DEBUG - Found 8 tickers: ['BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 11:32:25,258 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:32:25] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 11:32:33,662 - __main__ - DEBUG - Received ticker request: MA
2025-09-28 11:32:33,662 - __main__ - INFO - Validating ticker: MA
2025-09-28 11:32:33,663 - __main__ - DEBUG - Validating ticker: MA
2025-09-28 11:32:33,708 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 11:32:34,982 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=MA HTTP/1.1" 200 None
2025-09-28 11:32:34,992 - __main__ - DEBUG - Ticker MA validated successfully
2025-09-28 11:32:35,069 - __main__ - INFO - Successfully added ticker: MA
2025-09-28 11:32:35,070 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:32:35] "POST /api/tickers HTTP/1.1" 200 -
2025-09-28 11:32:35,078 - __main__ - DEBUG - Getting tickers list
2025-09-28 11:32:35,083 - __main__ - DEBUG - Found 9 tickers: ['MA', 'BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 11:32:35,085 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:32:35] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 11:32:36,410 - __main__ - DEBUG - Getting summary for MA
2025-09-28 11:32:36,411 - __main__ - DEBUG - Executed query for MA
2025-09-28 11:32:36,411 - __main__ - DEBUG - Query result for MA: None
2025-09-28 11:32:36,412 - __main__ - WARNING - No summary data found for MA
2025-09-28 11:32:36,412 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:32:36] "GET /api/summary/MA HTTP/1.1" 200 -
2025-09-28 11:32:37,509 - __main__ - INFO - Manual refresh requested for MA
2025-09-28 11:32:37,509 - __main__ - INFO - === Starting news processing for MA ===
2025-09-28 11:32:37,510 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-28 11:32:37,511 - __main__ - DEBUG - Starting TradingView scraping for MA
2025-09-28 11:32:37,512 - __main__ - DEBUG - Trying URL: https://www.tradingview.com/symbols/MA/news/
2025-09-28 11:32:37,518 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-28 11:32:38,795 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/MA/news/ HTTP/1.1" 301 0
2025-09-28 11:32:39,141 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-MA/news/ HTTP/1.1" 200 None
2025-09-28 11:32:39,239 - __main__ - INFO - TradingView: Found 4 articles for MA
2025-09-28 11:32:39,239 - __main__ - DEBUG - Starting Finviz scraping for MA
2025-09-28 11:32:39,240 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=MA
2025-09-28 11:32:39,241 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 11:32:40,055 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=MA HTTP/1.1" 200 None
2025-09-28 11:32:40,076 - __main__ - DEBUG - Response status: 200, Content length: 257636
2025-09-28 11:32:40,192 - __main__ - INFO - Finviz: Found 10 articles for MA
2025-09-28 11:32:40,192 - __main__ - DEBUG - Starting Polygon API call for MA
2025-09-28 11:32:40,192 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'MA', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-28 11:32:52,196 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-28 11:32:54,017 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=MA&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-28 11:32:54,018 - __main__ - DEBUG - polygon API call #1
2025-09-28 11:32:54,019 - __main__ - INFO - Polygon: Found 10 articles for MA
2025-09-28 11:32:54,019 - __main__ - DEBUG - Starting Alpha Vantage API call for MA
2025-09-28 11:32:54,022 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.alphavantage.co:443
2025-09-28 11:32:54,977 - urllib3.connectionpool - DEBUG - https://www.alphavantage.co:443 "GET /query?function=NEWS_SENTIMENT&tickers=MA&apikey=DO5HF4HW9CY6SUFH&limit=10 HTTP/1.1" 200 None
2025-09-28 11:32:56,090 - __main__ - INFO - Alpha Vantage: Found 10 articles for MA
2025-09-28 11:32:56,091 - __main__ - INFO - Fresh articles collected: 34 (TV:4, FV:10, PG:10, AV:10)
2025-09-28 11:32:56,091 - __main__ - DEBUG - Cached 34 articles for MA
2025-09-28 11:32:56,091 - __main__ - DEBUG - Selecting top articles using AI
2025-09-28 11:32:56,092 - __main__ - DEBUG - Starting article selection with 34 articles
2025-09-28 11:32:56,092 - __main__ - DEBUG - Sending prompt to Gemini (length: 9093 chars)
2025-09-28 11:32:56,092 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-28 11:33:00,093 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 11:33:00,095 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 11:33:00,167 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002130CA1DA90>
2025-09-28 11:33:00,168 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002130C746170> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-28 11:33:00,179 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002130C9FA0D0>
2025-09-28 11:33:00,180 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 11:33:00,181 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 11:33:00,181 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 11:33:00,182 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 11:33:00,182 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 11:33:28,162 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 06:03:27 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=27971'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 11:33:28,163 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 11:33:28,164 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 11:33:28,165 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 11:33:28,165 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 11:33:28,165 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 11:33:28,167 - __main__ - DEBUG - gemini API call #1
2025-09-28 11:33:28,167 - __main__ - DEBUG - Gemini response: 6,7,9,10,14,16,29...
2025-09-28 11:33:28,168 - __main__ - DEBUG - Selected article indices: [5, 6, 8, 9, 13, 15, 28]
2025-09-28 11:33:28,169 - __main__ - INFO - Selected 7 articles for summary
2025-09-28 11:33:28,170 - __main__ - DEBUG - Generating fresh AI summary
2025-09-28 11:33:28,171 - __main__ - DEBUG - Starting summary generation for MA
2025-09-28 11:33:28,171 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2608 chars)
2025-09-28 11:33:32,172 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 11:33:32,177 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 11:33:32,177 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 11:33:32,178 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 11:33:32,178 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 11:33:32,178 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 11:34:20,653 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 06:04:20 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=48466'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 11:34:20,656 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 11:34:20,658 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 11:34:20,710 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 11:34:20,710 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 11:34:20,711 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 11:34:20,712 - __main__ - DEBUG - gemini API call #2
2025-09-28 11:34:20,712 - __main__ - DEBUG - Gemini summary response received: 3953 chars
2025-09-28 11:34:20,713 - __main__ - INFO - Generated fresh summary for MA (length: 3953 chars)
2025-09-28 11:34:20,713 - __main__ - DEBUG - Cached summary for MA
2025-09-28 11:34:20,713 - __main__ - DEBUG - Saving summary to database for MA on 2025-09-28
2025-09-28 11:34:20,714 - __main__ - DEBUG - Summary length: 3953 chars
2025-09-28 11:34:20,714 - __main__ - DEBUG - What changed: ...
2025-09-28 11:34:20,717 - __main__ - DEBUG - Database save completed for MA
2025-09-28 11:34:20,780 - __main__ - INFO - === Completed processing for MA ===
2025-09-28 11:34:20,781 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:34:20] "GET /api/refresh/MA HTTP/1.1" 200 -
2025-09-28 11:34:23,804 - __main__ - DEBUG - Getting summary for MA
2025-09-28 11:34:23,809 - __main__ - DEBUG - Executed query for MA
2025-09-28 11:34:23,810 - __main__ - DEBUG - Query result for MA: Found
2025-09-28 11:34:23,811 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3953, what_changed_len=0
2025-09-28 11:34:23,812 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:34:23] "GET /api/summary/MA HTTP/1.1" 200 -
2025-09-28 11:41:16,716 - __main__ - DEBUG - Getting summary for XOM
2025-09-28 11:41:16,784 - __main__ - DEBUG - Executed query for XOM
2025-09-28 11:41:16,785 - __main__ - DEBUG - Query result for XOM: Found
2025-09-28 11:41:16,787 - __main__ - DEBUG - Summary data found: date=2025-09-27, summary_len=3636, what_changed_len=647
2025-09-28 11:41:16,788 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 11:41:16] "GET /api/summary/XOM HTTP/1.1" 200 -
2025-09-28 12:12:17,145 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-28 12:12:17,166 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-28 12:12:18,564 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-28 12:12:18,601 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-28 12:12:18,605 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-28 12:12:18,606 - apscheduler.scheduler - INFO - Scheduler started
2025-09-28 12:12:18,607 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-28 12:12:18,607 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-29 08:00:00+05:30 (in 71261.392032 seconds)
2025-09-28 12:12:18,657 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.6:10000
2025-09-28 12:12:18,658 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-28 12:12:22,056 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:12:22] "GET / HTTP/1.1" 200 -
2025-09-28 12:12:22,403 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:12:22] "GET /static/script.js HTTP/1.1" 200 -
2025-09-28 12:12:22,415 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:12:22] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-28 12:12:22,741 - __main__ - DEBUG - Getting tickers list
2025-09-28 12:12:22,745 - __main__ - DEBUG - Found 9 tickers: ['MA', 'BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 12:12:22,747 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:12:22] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 12:12:39,336 - __main__ - DEBUG - Received ticker request: LLY
2025-09-28 12:12:39,336 - __main__ - INFO - Validating ticker: LLY
2025-09-28 12:12:39,336 - __main__ - DEBUG - Validating ticker: LLY
2025-09-28 12:12:39,341 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 12:12:40,250 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=LLY HTTP/1.1" 200 None
2025-09-28 12:12:40,280 - __main__ - DEBUG - Ticker LLY validated successfully
2025-09-28 12:12:40,459 - __main__ - INFO - Successfully added ticker: LLY
2025-09-28 12:12:40,460 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:12:40] "POST /api/tickers HTTP/1.1" 200 -
2025-09-28 12:12:40,468 - __main__ - DEBUG - Getting tickers list
2025-09-28 12:12:40,472 - __main__ - DEBUG - Found 10 tickers: ['LLY', 'MA', 'BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 12:12:40,473 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:12:40] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 12:12:41,114 - __main__ - DEBUG - Getting summary for LLY
2025-09-28 12:12:41,116 - __main__ - DEBUG - Executed query for LLY
2025-09-28 12:12:41,116 - __main__ - DEBUG - Query result for LLY: None
2025-09-28 12:12:41,116 - __main__ - WARNING - No summary data found for LLY
2025-09-28 12:12:41,117 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:12:41] "GET /api/summary/LLY HTTP/1.1" 200 -
2025-09-28 12:12:44,438 - __main__ - INFO - Manual refresh requested for LLY
2025-09-28 12:12:44,439 - __main__ - INFO - === Starting news processing for LLY ===
2025-09-28 12:12:44,439 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-28 12:12:44,440 - __main__ - DEBUG - Starting TradingView scraping for LLY
2025-09-28 12:12:44,441 - __main__ - DEBUG - Trying URL: https://www.tradingview.com/symbols/LLY/news/
2025-09-28 12:12:44,445 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-28 12:12:46,123 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/LLY/news/ HTTP/1.1" 301 0
2025-09-28 12:12:46,479 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-LLY/news/ HTTP/1.1" 200 None
2025-09-28 12:12:46,579 - __main__ - INFO - TradingView: Found 5 articles for LLY
2025-09-28 12:12:46,580 - __main__ - DEBUG - Starting Finviz scraping for LLY
2025-09-28 12:12:46,580 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=LLY
2025-09-28 12:12:46,582 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 12:12:47,599 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=LLY HTTP/1.1" 200 None
2025-09-28 12:12:47,624 - __main__ - DEBUG - Response status: 200, Content length: 244273
2025-09-28 12:12:47,787 - __main__ - INFO - Finviz: Found 10 articles for LLY
2025-09-28 12:12:47,788 - __main__ - DEBUG - Starting Polygon API call for LLY
2025-09-28 12:12:47,788 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'LLY', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-28 12:12:59,794 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-28 12:13:01,477 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=LLY&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-28 12:13:01,481 - __main__ - DEBUG - polygon API call #1
2025-09-28 12:13:01,483 - __main__ - INFO - Polygon: Found 10 articles for LLY
2025-09-28 12:13:01,484 - __main__ - DEBUG - Starting Alpha Vantage API call for LLY
2025-09-28 12:13:01,490 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.alphavantage.co:443
2025-09-28 12:13:03,198 - urllib3.connectionpool - DEBUG - https://www.alphavantage.co:443 "GET /query?function=NEWS_SENTIMENT&tickers=LLY&apikey=DO5HF4HW9CY6SUFH&limit=10 HTTP/1.1" 200 None
2025-09-28 12:13:04,330 - __main__ - INFO - Alpha Vantage: Found 10 articles for LLY
2025-09-28 12:13:04,331 - __main__ - INFO - Fresh articles collected: 35 (TV:5, FV:10, PG:10, AV:10)
2025-09-28 12:13:04,332 - __main__ - DEBUG - Cached 35 articles for LLY
2025-09-28 12:13:04,332 - __main__ - DEBUG - Selecting top articles using AI
2025-09-28 12:13:04,333 - __main__ - DEBUG - Starting article selection with 35 articles
2025-09-28 12:13:04,333 - __main__ - DEBUG - Sending prompt to Gemini (length: 9127 chars)
2025-09-28 12:13:04,334 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-28 12:13:08,335 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 12:13:08,339 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 12:13:08,396 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C9E21E9E80>
2025-09-28 12:13:08,396 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C9E1F060D0> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-28 12:13:08,410 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C9E21BE850>
2025-09-28 12:13:08,411 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 12:13:08,412 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 12:13:08,412 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 12:13:08,413 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 12:13:08,414 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 12:13:38,775 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 06:43:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=30351'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 12:13:38,779 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 12:13:38,780 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 12:13:38,783 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 12:13:38,785 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 12:13:38,786 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 12:13:38,797 - __main__ - DEBUG - gemini API call #1
2025-09-28 12:13:38,797 - __main__ - DEBUG - Gemini response: 6,16,20,22,24,30...
2025-09-28 12:13:38,798 - __main__ - DEBUG - Selected article indices: [5, 15, 19, 21, 23, 29]
2025-09-28 12:13:38,799 - __main__ - INFO - Selected 6 articles for summary
2025-09-28 12:13:38,800 - __main__ - DEBUG - Generating fresh AI summary
2025-09-28 12:13:38,801 - __main__ - DEBUG - Starting summary generation for LLY
2025-09-28 12:13:38,801 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2911 chars)
2025-09-28 12:13:42,802 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 12:13:42,807 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 12:13:42,809 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 12:13:42,810 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 12:13:42,812 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 12:13:42,813 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 12:14:26,467 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 06:44:26 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=43650'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 12:14:26,468 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 12:14:26,469 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 12:14:26,470 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 12:14:26,471 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 12:14:26,471 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 12:14:26,473 - __main__ - DEBUG - gemini API call #2
2025-09-28 12:14:26,474 - __main__ - DEBUG - Gemini summary response received: 4037 chars
2025-09-28 12:14:26,474 - __main__ - DEBUG - Response preview: Here is a professional investment summary analyzing LLY based on today's news.

**EXECUTIVE SUMMARY**

Eli Lilly (LLY) saw significant positive pipeline developments today with key drug approvals in A...
2025-09-28 12:14:26,475 - __main__ - DEBUG - Extracted what_changed: New Political Headwind: The specific proposal of a 100% tariff on pharmaceuticals is a new, material...
2025-09-28 12:14:26,475 - __main__ - DEBUG - Final what_changed content: 'New Political Headwind: The specific proposal of a 100% tariff on pharmaceuticals is a new, material risk that was not a major market focus in the prior week. Pipeline De-risking: The EU and FDA approvals are concrete events that have occurred today, converting pipeline assets (Kisunla, Inluriyo) into commercially approved products and providing tangible evidence of portfolio diversification. Competitive Threat Escalation: Pfizer's $4.9 billion acquisition is a new, definitive action that significantly raises the competitive stakes in the GLP-1 market, moving the threat from potential to committed capital investment.'
2025-09-28 12:14:26,476 - __main__ - INFO - Generated fresh summary for LLY (length: 4037 chars)
2025-09-28 12:14:26,476 - __main__ - DEBUG - Cached summary for LLY
2025-09-28 12:14:26,477 - __main__ - DEBUG - Saving summary to database for LLY on 2025-09-28
2025-09-28 12:14:26,477 - __main__ - DEBUG - Summary length: 4037 chars
2025-09-28 12:14:26,478 - __main__ - DEBUG - What changed: New Political Headwind: The specific proposal of a 100% tariff on pharmaceuticals is a new, material...
2025-09-28 12:14:26,511 - __main__ - DEBUG - Database save completed for LLY
2025-09-28 12:14:26,573 - __main__ - INFO - === Completed processing for LLY ===
2025-09-28 12:14:26,575 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:14:26] "GET /api/refresh/LLY HTTP/1.1" 200 -
2025-09-28 12:14:29,599 - __main__ - DEBUG - Getting summary for LLY
2025-09-28 12:14:29,603 - __main__ - DEBUG - Executed query for LLY
2025-09-28 12:14:29,604 - __main__ - DEBUG - Query result for LLY: Found
2025-09-28 12:14:29,604 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=4037, what_changed_len=624
2025-09-28 12:14:29,605 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:14:29] "GET /api/summary/LLY HTTP/1.1" 200 -
2025-09-28 12:18:40,287 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-28 12:18:40,287 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-28 12:18:41,323 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-28 12:18:41,332 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-28 12:18:41,334 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-28 12:18:41,334 - apscheduler.scheduler - INFO - Scheduler started
2025-09-28 12:18:41,335 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-28 12:18:41,336 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-29 08:00:00+05:30 (in 70878.663895 seconds)
2025-09-28 12:18:41,352 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.6:10000
2025-09-28 12:18:41,353 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-28 12:18:49,908 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:18:49] "GET / HTTP/1.1" 200 -
2025-09-28 12:18:50,269 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:18:50] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-28 12:18:50,347 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:18:50] "GET /static/script.js HTTP/1.1" 200 -
2025-09-28 12:18:50,670 - __main__ - DEBUG - Getting tickers list
2025-09-28 12:18:50,677 - __main__ - DEBUG - Found 10 tickers: ['LLY', 'MA', 'BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 12:18:50,681 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:18:50] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 12:19:00,927 - __main__ - DEBUG - Received ticker request: KO
2025-09-28 12:19:00,928 - __main__ - INFO - Validating ticker: KO
2025-09-28 12:19:00,928 - __main__ - DEBUG - Validating ticker: KO
2025-09-28 12:19:00,931 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 12:19:01,868 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=KO HTTP/1.1" 200 None
2025-09-28 12:19:01,901 - __main__ - DEBUG - Ticker KO validated successfully
2025-09-28 12:19:01,969 - __main__ - INFO - Successfully added ticker: KO
2025-09-28 12:19:01,970 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:19:01] "POST /api/tickers HTTP/1.1" 200 -
2025-09-28 12:19:01,981 - __main__ - DEBUG - Getting tickers list
2025-09-28 12:19:01,983 - __main__ - DEBUG - Found 11 tickers: ['KO', 'LLY', 'MA', 'BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 12:19:01,984 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:19:01] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 12:19:02,644 - __main__ - DEBUG - Getting summary for KO
2025-09-28 12:19:02,646 - __main__ - DEBUG - Executed query for KO
2025-09-28 12:19:02,646 - __main__ - DEBUG - Query result for KO: None
2025-09-28 12:19:02,647 - __main__ - WARNING - No summary data found for KO
2025-09-28 12:19:02,648 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:19:02] "GET /api/summary/KO HTTP/1.1" 200 -
2025-09-28 12:19:03,767 - __main__ - INFO - Manual refresh requested for KO
2025-09-28 12:19:03,768 - __main__ - INFO - === Starting news processing for KO ===
2025-09-28 12:19:03,769 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-28 12:19:03,770 - __main__ - DEBUG - Starting TradingView scraping for KO
2025-09-28 12:19:03,775 - __main__ - DEBUG - Trying URL: https://www.tradingview.com/symbols/KO/news/
2025-09-28 12:19:03,777 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-28 12:19:04,912 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/KO/news/ HTTP/1.1" 301 0
2025-09-28 12:19:05,226 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-KO/news/ HTTP/1.1" 200 None
2025-09-28 12:19:05,492 - __main__ - INFO - TradingView: Found 5 articles for KO
2025-09-28 12:19:05,492 - __main__ - DEBUG - Starting Finviz scraping for KO
2025-09-28 12:19:05,493 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=KO
2025-09-28 12:19:05,494 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 12:19:06,394 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=KO HTTP/1.1" 200 None
2025-09-28 12:19:06,414 - __main__ - DEBUG - Response status: 200, Content length: 230458
2025-09-28 12:19:06,520 - __main__ - INFO - Finviz: Found 10 articles for KO
2025-09-28 12:19:06,520 - __main__ - DEBUG - Starting Polygon API call for KO
2025-09-28 12:19:06,520 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'KO', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-28 12:19:18,524 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-28 12:19:20,192 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=KO&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-28 12:19:20,195 - __main__ - DEBUG - polygon API call #1
2025-09-28 12:19:20,197 - __main__ - INFO - Polygon: Found 10 articles for KO
2025-09-28 12:19:20,198 - __main__ - DEBUG - Starting Alpha Vantage API call for KO
2025-09-28 12:19:20,214 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.alphavantage.co:443
2025-09-28 12:19:21,982 - urllib3.connectionpool - DEBUG - https://www.alphavantage.co:443 "GET /query?function=NEWS_SENTIMENT&tickers=KO&apikey=DO5HF4HW9CY6SUFH&limit=10 HTTP/1.1" 200 None
2025-09-28 12:19:23,149 - __main__ - INFO - Alpha Vantage: Found 10 articles for KO
2025-09-28 12:19:23,150 - __main__ - INFO - Fresh articles collected: 35 (TV:5, FV:10, PG:10, AV:10)
2025-09-28 12:19:23,150 - __main__ - DEBUG - Cached 35 articles for KO
2025-09-28 12:19:23,151 - __main__ - DEBUG - Selecting top articles using AI
2025-09-28 12:19:23,152 - __main__ - DEBUG - Starting article selection with 35 articles
2025-09-28 12:19:23,153 - __main__ - DEBUG - Sending prompt to Gemini (length: 8530 chars)
2025-09-28 12:19:23,153 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-28 12:19:27,155 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 12:19:27,159 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 12:19:27,178 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024106929940>
2025-09-28 12:19:27,179 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002410662E0D0> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-28 12:19:27,193 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000241068FF390>
2025-09-28 12:19:27,193 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 12:19:27,195 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 12:19:27,195 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 12:19:27,196 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 12:19:27,197 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 12:20:07,404 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 06:50:07 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=40199'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 12:20:07,406 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 12:20:07,406 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 12:20:07,407 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 12:20:07,407 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 12:20:07,408 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 12:20:07,409 - __main__ - DEBUG - gemini API call #1
2025-09-28 12:20:07,410 - __main__ - DEBUG - Gemini response: 5,11,14,15,20,33...
2025-09-28 12:20:07,410 - __main__ - DEBUG - Selected article indices: [4, 10, 13, 14, 19, 32]
2025-09-28 12:20:07,410 - __main__ - INFO - Selected 6 articles for summary
2025-09-28 12:20:07,411 - __main__ - DEBUG - Generating fresh AI summary
2025-09-28 12:20:07,412 - __main__ - DEBUG - Starting summary generation for KO
2025-09-28 12:20:07,412 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 2196 chars)
2025-09-28 12:20:11,413 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 12:20:11,415 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 12:20:11,416 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 12:20:11,417 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 12:20:11,418 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 12:20:11,418 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 12:20:38,146 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 06:50:37 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=26723'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 12:20:38,148 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 12:20:38,150 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 12:20:38,152 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 12:20:38,153 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 12:20:38,154 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 12:20:38,156 - __main__ - DEBUG - gemini API call #2
2025-09-28 12:20:38,156 - __main__ - DEBUG - Gemini summary response received: 3312 chars
2025-09-28 12:20:38,156 - __main__ - DEBUG - Response preview: **EXECUTIVE SUMMARY**
Today's news flow paints a stable-to-positive picture for The Coca-Cola Company (KO), contrasting its steady operational progress with significant strategic pressure on its prima...
2025-09-28 12:20:38,156 - __main__ - DEBUG - Extracted what_changed: Compared to the context of the past seven days, the following developments are new: Confirmation of ...
2025-09-28 12:20:38,156 - __main__ - DEBUG - Final what_changed content: 'Compared to the context of the past seven days, the following developments are new: Confirmation of Sustainability Progress: The specific report of an increase in recyclable packaging is a new, tangible data point supporting KO's ESG narrative. Heightened Visibility on Competitor Weakness: Today's news brings the strategic challenges at PepsiCo into sharp focus, particularly the influence of activist investors and persistent stock underperformance. This provides a fresh, comparative data point that highlights KOs relative stability. Active Peer-to-Peer Debate: The presence of articles directly comparing investment cases for Coca-Cola versus peers like Monster Beverage indicates an active re-evaluation of the stock's role in portfolios is occurring in the market today.'
2025-09-28 12:20:38,158 - __main__ - INFO - Generated fresh summary for KO (length: 3312 chars)
2025-09-28 12:20:38,159 - __main__ - DEBUG - Cached summary for KO
2025-09-28 12:20:38,159 - __main__ - DEBUG - Saving summary to database for KO on 2025-09-28
2025-09-28 12:20:38,159 - __main__ - DEBUG - Summary length: 3312 chars
2025-09-28 12:20:38,159 - __main__ - DEBUG - What changed: Compared to the context of the past seven days, the following developments are new: Confirmation of ...
2025-09-28 12:20:38,161 - __main__ - DEBUG - Database save completed for KO
2025-09-28 12:20:38,337 - __main__ - INFO - === Completed processing for KO ===
2025-09-28 12:20:38,338 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:20:38] "GET /api/refresh/KO HTTP/1.1" 200 -
2025-09-28 12:20:41,355 - __main__ - DEBUG - Getting summary for KO
2025-09-28 12:20:41,360 - __main__ - DEBUG - Executed query for KO
2025-09-28 12:20:41,361 - __main__ - DEBUG - Query result for KO: Found
2025-09-28 12:20:41,361 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3312, what_changed_len=779
2025-09-28 12:20:41,367 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:20:41] "GET /api/summary/KO HTTP/1.1" 200 -
2025-09-28 12:23:20,718 - __main__ - INFO - Gemini API Key loaded: Yes
2025-09-28 12:23:20,718 - __main__ - INFO - Polygon API Key loaded: Yes
2025-09-28 12:23:21,905 - tzlocal - DEBUG - Looking up time zone info from registry
2025-09-28 12:23:21,918 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-09-28 12:23:21,920 - apscheduler.scheduler - INFO - Added job "daily_update" to job store "default"
2025-09-28 12:23:21,921 - apscheduler.scheduler - INFO - Scheduler started
2025-09-28 12:23:21,922 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-09-28 12:23:21,923 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-09-29 08:00:00+05:30 (in 70598.076605 seconds)
2025-09-28 12:23:21,961 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:10000
 * Running on http://192.168.1.6:10000
2025-09-28 12:23:21,962 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-28 12:23:29,146 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:23:29] "GET / HTTP/1.1" 200 -
2025-09-28 12:23:29,464 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:23:29] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-09-28 12:23:29,529 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:23:29] "GET /static/script.js HTTP/1.1" 200 -
2025-09-28 12:23:29,858 - __main__ - DEBUG - Getting tickers list
2025-09-28 12:23:29,881 - __main__ - DEBUG - Found 11 tickers: ['KO', 'LLY', 'MA', 'BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 12:23:30,012 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:23:30] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 12:23:41,396 - __main__ - DEBUG - Received ticker request: PFE
2025-09-28 12:23:41,397 - __main__ - INFO - Validating ticker: PFE
2025-09-28 12:23:41,397 - __main__ - DEBUG - Validating ticker: PFE
2025-09-28 12:23:41,401 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 12:23:42,405 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=PFE HTTP/1.1" 200 None
2025-09-28 12:23:42,691 - __main__ - DEBUG - Ticker PFE validated successfully
2025-09-28 12:23:42,861 - __main__ - INFO - Successfully added ticker: PFE
2025-09-28 12:23:42,863 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:23:42] "POST /api/tickers HTTP/1.1" 200 -
2025-09-28 12:23:42,871 - __main__ - DEBUG - Getting tickers list
2025-09-28 12:23:42,876 - __main__ - DEBUG - Found 12 tickers: ['PFE', 'KO', 'LLY', 'MA', 'BAC', 'JPM', 'XOM', 'BA', 'BP', 'NVDA', 'TSLA', 'AAP']
2025-09-28 12:23:42,878 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:23:42] "GET /api/tickers HTTP/1.1" 200 -
2025-09-28 12:23:43,461 - __main__ - DEBUG - Getting summary for PFE
2025-09-28 12:23:43,463 - __main__ - DEBUG - Executed query for PFE
2025-09-28 12:23:43,464 - __main__ - DEBUG - Query result for PFE: None
2025-09-28 12:23:43,464 - __main__ - WARNING - No summary data found for PFE
2025-09-28 12:23:43,466 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:23:43] "GET /api/summary/PFE HTTP/1.1" 200 -
2025-09-28 12:23:44,517 - __main__ - INFO - Manual refresh requested for PFE
2025-09-28 12:23:44,517 - __main__ - INFO - === Starting news processing for PFE ===
2025-09-28 12:23:44,518 - __main__ - DEBUG - Collecting fresh news from all sources
2025-09-28 12:23:44,518 - __main__ - DEBUG - Starting TradingView scraping for PFE
2025-09-28 12:23:44,519 - __main__ - DEBUG - Trying URL: https://www.tradingview.com/symbols/PFE/news/
2025-09-28 12:23:44,524 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.tradingview.com:443
2025-09-28 12:23:45,693 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/PFE/news/ HTTP/1.1" 301 0
2025-09-28 12:23:46,069 - urllib3.connectionpool - DEBUG - https://www.tradingview.com:443 "GET /symbols/NYSE-PFE/news/ HTTP/1.1" 200 None
2025-09-28 12:23:46,358 - __main__ - INFO - TradingView: Found 5 articles for PFE
2025-09-28 12:23:46,358 - __main__ - DEBUG - Starting Finviz scraping for PFE
2025-09-28 12:23:46,359 - __main__ - DEBUG - Fetching URL: https://finviz.com/quote.ashx?t=PFE
2025-09-28 12:23:46,360 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): finviz.com:443
2025-09-28 12:23:47,169 - urllib3.connectionpool - DEBUG - https://finviz.com:443 "GET /quote.ashx?t=PFE HTTP/1.1" 200 None
2025-09-28 12:23:47,188 - __main__ - DEBUG - Response status: 200, Content length: 219164
2025-09-28 12:23:47,290 - __main__ - INFO - Finviz: Found 10 articles for PFE
2025-09-28 12:23:47,290 - __main__ - DEBUG - Starting Polygon API call for PFE
2025-09-28 12:23:47,291 - __main__ - DEBUG - API URL: https://api.polygon.io/v2/reference/news, Params: {'ticker': 'PFE', 'limit': 10, 'apikey': 'BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1'}
2025-09-28 12:23:59,292 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.polygon.io:443
2025-09-28 12:24:01,015 - urllib3.connectionpool - DEBUG - https://api.polygon.io:443 "GET /v2/reference/news?ticker=PFE&limit=10&apikey=BQoC8Jp25fffSdoxpLv0mI2gu2d74HT1 HTTP/1.1" 200 None
2025-09-28 12:24:01,016 - __main__ - DEBUG - polygon API call #1
2025-09-28 12:24:01,017 - __main__ - INFO - Polygon: Found 10 articles for PFE
2025-09-28 12:24:01,017 - __main__ - DEBUG - Starting Alpha Vantage API call for PFE
2025-09-28 12:24:01,019 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.alphavantage.co:443
2025-09-28 12:24:03,008 - urllib3.connectionpool - DEBUG - https://www.alphavantage.co:443 "GET /query?function=NEWS_SENTIMENT&tickers=PFE&apikey=DO5HF4HW9CY6SUFH&limit=10 HTTP/1.1" 200 None
2025-09-28 12:24:04,194 - __main__ - INFO - Alpha Vantage: Found 10 articles for PFE
2025-09-28 12:24:04,195 - __main__ - INFO - Fresh articles collected: 35 (TV:5, FV:10, PG:10, AV:10)
2025-09-28 12:24:04,196 - __main__ - DEBUG - Cached 35 articles for PFE
2025-09-28 12:24:04,196 - __main__ - DEBUG - Selecting top articles using AI
2025-09-28 12:24:04,197 - __main__ - DEBUG - Starting article selection with 35 articles
2025-09-28 12:24:04,197 - __main__ - DEBUG - Sending prompt to Gemini (length: 8814 chars)
2025-09-28 12:24:04,198 - __main__ - DEBUG - Using API key: AIzaSyDiWg...
2025-09-28 12:24:08,199 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 12:24:08,200 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=None socket_options=None
2025-09-28 12:24:08,216 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000163D3339BE0>
2025-09-28 12:24:08,217 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000163D30520D0> server_hostname='generativelanguage.googleapis.com' timeout=None
2025-09-28 12:24:08,240 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000163D330F4D0>
2025-09-28 12:24:08,241 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 12:24:08,242 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 12:24:08,242 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 12:24:08,242 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 12:24:08,243 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 12:24:42,987 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 06:54:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=34733'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 12:24:42,989 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 12:24:42,990 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 12:24:42,993 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 12:24:42,994 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 12:24:42,995 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 12:24:42,998 - __main__ - DEBUG - gemini API call #1
2025-09-28 12:24:42,999 - __main__ - DEBUG - Gemini response: 8,15,20,23,28,29,35...
2025-09-28 12:24:43,000 - __main__ - DEBUG - Selected article indices: [7, 14, 19, 22, 27, 28, 34]
2025-09-28 12:24:43,001 - __main__ - INFO - Selected 7 articles for summary
2025-09-28 12:24:43,004 - __main__ - DEBUG - Generating fresh AI summary
2025-09-28 12:24:43,005 - __main__ - DEBUG - Starting summary generation for PFE
2025-09-28 12:24:43,006 - __main__ - DEBUG - Sending summary prompt to Gemini (length: 3514 chars)
2025-09-28 12:24:47,007 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-09-28 12:24:47,009 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-28 12:24:47,009 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-28 12:24:47,010 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-28 12:24:47,010 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-28 12:24:47,010 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-28 12:25:17,992 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 28 Sep 2025 06:55:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=30972'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-28 12:25:17,993 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent "HTTP/1.1 200 OK"
2025-09-28 12:25:17,993 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-28 12:25:17,994 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-28 12:25:17,994 - httpcore.http11 - DEBUG - response_closed.started
2025-09-28 12:25:17,995 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-28 12:25:17,996 - __main__ - DEBUG - gemini API call #2
2025-09-28 12:25:17,996 - __main__ - DEBUG - Gemini summary response received: 3507 chars
2025-09-28 12:25:17,996 - __main__ - DEBUG - Response preview: **EXECUTIVE SUMMARY**

Pfizer (PFE) today executed a significant strategic pivot into the high-growth obesity drug market with a multi-billion dollar acquisition of Metsera. This move is a decisive, a...
2025-09-28 12:25:17,997 - __main__ - DEBUG - Extracted what_changed: Confirmation of Strategic Pivot: While speculation about Pfizer's interest in the obesity market has...
2025-09-28 12:25:17,997 - __main__ - DEBUG - Final what_changed content: 'Confirmation of Strategic Pivot: While speculation about Pfizer's interest in the obesity market has existed, today's announcement of the Metsera acquisition provides concrete financial details and a timeline, confirming it as the company's core new growth strategy. New Legal Timeline: The identification of a "late September" court date for the Depo-Provera litigation provides a specific, near-term event for a known legal risk. Macroeconomic Tailwinds: The stock's positive reaction to proposed pharma tariffs introduces a new, macro-driven factor influencing its valuation today.'
2025-09-28 12:25:17,998 - __main__ - INFO - Generated fresh summary for PFE (length: 3507 chars)
2025-09-28 12:25:17,998 - __main__ - DEBUG - Cached summary for PFE
2025-09-28 12:25:17,999 - __main__ - DEBUG - Saving summary to database for PFE on 2025-09-28
2025-09-28 12:25:17,999 - __main__ - DEBUG - Summary length: 3507 chars
2025-09-28 12:25:17,999 - __main__ - DEBUG - What changed: Confirmation of Strategic Pivot: While speculation about Pfizer's interest in the obesity market has...
2025-09-28 12:25:18,002 - __main__ - DEBUG - Database save completed for PFE
2025-09-28 12:25:18,152 - __main__ - INFO - === Completed processing for PFE ===
2025-09-28 12:25:18,153 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:25:18] "GET /api/refresh/PFE HTTP/1.1" 200 -
2025-09-28 12:25:21,180 - __main__ - DEBUG - Getting summary for PFE
2025-09-28 12:25:21,184 - __main__ - DEBUG - Executed query for PFE
2025-09-28 12:25:21,185 - __main__ - DEBUG - Query result for PFE: Found
2025-09-28 12:25:21,185 - __main__ - DEBUG - Summary data found: date=2025-09-28, summary_len=3507, what_changed_len=584
2025-09-28 12:25:21,187 - werkzeug - INFO - 127.0.0.1 - - [28/Sep/2025 12:25:21] "GET /api/summary/PFE HTTP/1.1" 200 -
